Library {
  Name			  "lib_drive_cycle"
  Version		  4.00
  LibraryLinkDisplay	  "none"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Tue Nov 21 13:53:26 2000"
  UpdateHistory		  "UpdateHistoryWhenSave"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "kharalds"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Wed Aug 06 11:07:07 2003"
  ModifiedComment	  "kharalds -- Wed Aug 06 11:07:07 2003 -- Version 1.1"
"8\nremoved cyc_elevation_init from ambient presure calc\n"
  ModifiedHistory	  "kharalds -- Wed Aug 06 11:07:07 2003 -- Version 1.1"
"8\nremoved cyc_elevation_init from ambient presure calc\n\n\nkharalds -- Wed "
"Aug 06 10:53:50 2003 -- Version 1.17\nrevised height scale factor in ambient "
"pressure calc\n\n\ntmarkel -- Wed Jul 30 14:19:45 2003 -- Version 1.16\nfixed"
" bad link for ambient pressure calc\n\n\ntmarkel -- Wed Jun 04 13:53:01 2003 "
"-- Version 1.15\n\nadded calc and to workspace for ambient pressure as a func"
"tion of elevation\n\n\nmokeefe -- Thu Apr 18 08:26:19 2002 -- Version 1.14\ns"
"aving the model:\no \"without the model browser open\"\no with only top-level"
" screen visible \no with \"fit to view\" enabled\no with \"status bar\" off a"
"nd \"toolbar\" off\no with \"prompt to update model history with each save\" "
"on\n\nmokeefe -- Thu Apr 18 08:26:08 2002 -- Version 1.13\nsaving the model:"
"\no \"without the model browser open\"\no with only top-level screen visible "
"\no with \"fit to view\" enabled\no with \"status bar\" off and \"toolbar\" o"
"ff\no with \"prompt to update model history with each save\" on\n\n"
  ModelVersionFormat	  "1.%<AutoIncrement:18>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_drive_cycle"
    Location		    [151, 76, 1114, 794]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "200"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "drive cycle\n<cyc>"
      Ports		      [0, 1]
      Position		      [50, 35, 85, 105]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_cyc.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"drive cycle\n<cyc>"
	Location		[99, 72, 890, 721]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  From
	  Name			  "Altia_Run"
	  Position		  [305, 361, 410, 389]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "Altia_Run"
	}
	Block {
	  BlockType		  From
	  Name			  "Altia_Run1"
	  Position		  [410, 66, 515, 94]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "Altia_Run"
	}
	Block {
	  BlockType		  Backlash
	  Name			  "Backlash"
	  Position		  [120, 30, 150, 50]
	  BacklashWidth		  "0.5"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [710, 470, 766, 510]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [468, 440, 882, 553]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [206, 47]
	      Text		      "This block determines the speed require"
"d of the vehicle.  If cyc_filter_bool\nis true, a centered-in-time average of"
" the trace, with backlash, is required of\nthe vehicle.  This may be useful t"
"o smooth out jumps in the trace.  Otherwise,\nthe trace, exactly as published"
", is required of the vehicle.\nThis block also determines the roadway grade o"
"f the cycle and the \nelevation as a function of the distance travelelled"
	    }
	  }
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [45, 104, 85, 126]
	  FontName		  "Arial"
	  Value			  "0.001"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant1"
	  Position		  [205, 99, 245, 121]
	  Orientation		  "left"
	  FontName		  "Arial"
	  Value			  "0"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant2"
	  Position		  [165, 158, 250, 182]
	  FontName		  "Arial"
	  Value			  "cyc_filter_bool"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Derivative
	  Name			  "Derivative"
	  Position		  [120, 275, 150, 305]
	  ShowName		  off
	}
	Block {
	  BlockType		  From
	  Name			  "From"
	  Position		  [410, 16, 515, 44]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "altia_cyc_mph_r"
	}
	Block {
	  BlockType		  From
	  Name			  "From1"
	  Position		  [305, 311, 410, 339]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "altia_grade"
	}
	Block {
	  BlockType		  From
	  Name			  "From2"
	  Position		  [470, 556, 575, 584]
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "elevation"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto \n<veh><vc><sdo>"
	  Position		  [535, 414, 585, 436]
	  GotoTag		  "grade"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto \n<veh><vc><sdo>1"
	  Position		  [290, 533, 405, 557]
	  BackgroundColor	  "darkGreen"
	  GotoTag		  "veh_cargo_mass"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <altia>"
	  Position		  [395, 155, 485, 185]
	  Orientation		  "down"
	  NamePlacement		  "alternate"
	  GotoTag		  "cyc_mph_r_orig"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <altia>1"
	  Position		  [290, 450, 380, 480]
	  Orientation		  "down"
	  NamePlacement		  "alternate"
	  GotoTag		  "grade_orig"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>1"
	  Position		  [125, 462, 195, 488]
	  GotoTag		  "distance"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo>2"
	  Position		  [705, 372, 765, 398]
	  GotoTag		  "elevation"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto <sdo><vc>"
	  Position		  [605, 165, 665, 190]
	  Orientation		  "down"
	  GotoTag		  "cyc_mph_r"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Integrator
	  Name			  "Integrator"
	  Ports			  [1, 1]
	  Position		  [640, 370, 670, 400]
	  ExternalReset		  "none"
	  InitialConditionSource  "internal"
	  InitialCondition	  "cyc_elevation_init"
	  LimitOutput		  off
	  UpperSaturationLimit	  "inf"
	  LowerSaturationLimit	  "-inf"
	  ShowSaturationPort	  off
	  ShowStatePort		  off
	  AbsoluteTolerance	  "auto"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [580, 367, 610, 398]
	  Inputs		  "2"
	  Multiplication	  "Element-wise(.*)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "Relational\nOperator"
	  Position		  [120, 98, 150, 122]
	  FontName		  "Arial"
	  Operator		  ">"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  Position		  [210, 34, 240, 66]
	  FontName		  "Arial"
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch1"
	  Position		  [320, 99, 350, 131]
	  FontName		  "Arial"
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch2"
	  Position		  [575, 90, 605, 120]
	  Threshold		  "1"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch3"
	  Position		  [460, 380, 490, 410]
	  NamePlacement		  "alternate"
	  Threshold		  "1"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace"
	  Position		  [285, 602, 420, 628]
	  BackgroundColor	  "darkGreen"
	  VariableName		  "veh_cargo_mass_vs_time"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace1"
	  Position		  [680, 557, 765, 583]
	  VariableName		  "ambient_pressure"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  Trigonometry
	  Name			  "Trigonometric\nFunction"
	  Ports			  [1, 1]
	  Position		  [520, 375, 550, 405]
	  ShowName		  off
	  Operator		  "sin"
	  OutputSignalType	  "auto"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "ambient pressure\ncalc (atm)"
	  Ports			  [1, 1]
	  Position		  [600, 553, 640, 587]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "ambient pressure\ncalc (atm)"
	    Location		    [181, 304, 604, 451]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "elevation"
	      Position		      [85, 58, 115, 72]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [185, 51, 225, 79]
	      Gain		      "-1"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Height Scale Factor (1/m)"
	      Position		      [130, 103, 210, 127]
	      Value		      "1.16546e-4"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction"
	      Ports		      [1, 1]
	      Position		      [315, 75, 345, 105]
	      Operator		      "exp"
	      OutputSignalType	      "auto"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product9"
	      Ports		      [2, 1]
	      Position		      [255, 54, 290, 101]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [370, 83, 400, 97]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Product9"
	      SrcPort		      1
	      Points		      [0, 10]
	      DstBlock		      "Math\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "elevation"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Product9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Height Scale Factor (1/m)"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Product9"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Math\nFunction"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "distance\ntravelled (m)"
	  Ports			  [0, 1]
	  Position		  [55, 380, 85, 430]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "distance\ntravelled (m)"
	    Location		    [96, 424, 405, 570]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [215, 85, 271, 125]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[468, 440, 854, 513]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [206, 37]
		  Text			  "This block calculates the distance "
"travelled by the\n vehicle based on the achieved speed."
		}
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>"
	      Position		      [20, 29, 85, 51]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mpha"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [185, 25, 215, 55]
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "0"
	      LimitOutput	      off
	      UpperSaturationLimit    "inf"
	      LowerSaturationLimit    "-inf"
	      ShowSaturationPort      off
	      ShowStatePort	      off
	      AbsoluteTolerance	      "auto"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "mph-->m/s"
	      Position		      [110, 24, 150, 56]
	      FontName		      "Arial"
	      Gain		      "0.447"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [245, 33, 275, 47]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>"
	      SrcPort		      1
	      DstBlock		      "mph-->m/s"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mph-->m/s"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "mph-->m/s"
	  Position		  [670, 89, 710, 121]
	  FontName		  "Arial"
	  Gain			  "0.447"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "repeated cycle\ngrade vs. distance"
	  Ports			  [1, 1]
	  Position		  [140, 387, 175, 423]
	  FontName		  "Arial"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskType		  "Repeating table"
	  MaskDescription	  "Repeating table.\nEnter values of input and"
" output for first cycle."
	  MaskHelp		  "Repeats cycle given in table. Input values "
"should be monotonically increasing."
	  MaskPromptString	  "Input values:|Output values:"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVariables		  "t=@1;y=@2;"
	  MaskInitialization	  "period = max(@1);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "cyc_grade(:,1)|cyc_grade(:,2)"
	  MaskVariableAliases	  ","
	  System {
	    Name		    "repeated cycle\ngrade vs. distance"
	    Location		    [59, 212, 422, 367]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "distance\ntravelled (m)"
	      Position		      [55, 55, 75, 75]
	      FontName		      "Arial"
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn1"
	      Position		      [125, 55, 165, 75]
	      Expr		      "rem(u[1],period)"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up Table"
	      Position		      [200, 53, 240, 77]
	      InputValues	      "t"
	      OutputValues	      "y"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [275, 55, 295, 75]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "distance\ntravelled (m)"
	      SrcPort		      1
	      DstBlock		      "Fcn1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Fcn1"
	      SrcPort		      1
	      DstBlock		      "Look-Up Table"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Look-Up Table"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "repeated cycle\nspeed vs. time"
	  Ports			  [0, 1]
	  Position		  [110, 192, 145, 228]
	  FontName		  "Arial"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskType		  "Repeating table"
	  MaskDescription	  "Repeating table.\nEnter values of time and "
"output for first cycle."
	  MaskHelp		  "Repeats cycle given in table. Time values s"
"hould be monotonically increasing."
	  MaskPromptString	  "Time values:|Output values:"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskInitialization	  "period = max(@1); t = @1; y = @2;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)"
	  MaskVariableAliases	  ","
	  System {
	    Name		    "repeated cycle\nspeed vs. time"
	    Location		    [7, 44, 317, 200]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [45, 60, 65, 80]
	      DisplayTime	      off
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn1"
	      Position		      [110, 60, 150, 80]
	      Expr		      "rem(u[1],period)"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up Table"
	      Position		      [210, 58, 250, 82]
	      InputValues	      "t"
	      OutputValues	      "y"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [285, 60, 305, 80]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Fcn1"
	      SrcPort		      1
	      DstBlock		      "Look-Up Table"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Fcn1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Look-Up Table"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "repeated cycle\nvehicle cargo mass vs. dist"
"ance"
	  Ports			  [1, 1]
	  Position		  [135, 527, 170, 563]
	  BackgroundColor	  "darkGreen"
	  FontName		  "Arial"
	  SourceBlock		  "lib_drive_cycle/drive cycle\n<cyc>/repeated"
" cycle\ngrade vs. distance"
	  SourceType		  "Repeating table"
	  t			  "cyc_cargo_mass(:,1)"
	  y			  "cyc_cargo_mass(:,2)"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "super-smooth,\nno-lag trace"
	  Ports			  [0, 1]
	  Position		  [15, 19, 75, 61]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskType		  "Smooth Cycle"
	  MaskDescription	  "Smooth Cycle"
	  MaskPromptString	  "Time vector for trace (s):|Speed vector for"
" trace (km/hr):|Averaging time (s):"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVariables		  "t=@1;y=@2;avgtime=@3;"
	  MaskInitialization	  "period = max(@1);,"
	  MaskDisplay		  "disp('SMOOTH\\nCYCLE')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "cyc_mph(:,1)|cyc_mph(:,2)|cyc_avg_time"
	  MaskVariableAliases	  ",,"
	  System {
	    Name		    "super-smooth,\nno-lag trace"
	    Location		    [6, 87, 360, 262]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [1, 1]
	      Position		      [125, 63, 210, 107]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "Running Average"
	      MaskDescription	      "Running Average"
	      MaskHelp		      "Output is the average of the last (Aver"
"aging Time) seconds of input."
	      MaskPromptString	      "Averaging Time (s)"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "n=@1;"
	      MaskDisplay	      "disp('Running\\nAverage')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "avgtime"
	      System {
		Name			"Subsystem"
		Location		[115, 388, 551, 664]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "in_1"
		  Position		  [30, 55, 50, 75]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [255, 154, 295, 176]
		  FontName		  "Arial"
		  Value			  "n"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [80, 55, 100, 75]
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "0"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [340, 66, 360, 84]
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [225, 60, 245, 80]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  TransportDelay
		  Name			  "Transport\nDelay"
		  Position		  [155, 90, 195, 120]
		  DelayTime		  "n"
		  InitialInput		  "0"
		  BufferSize		  "1024"
		  PadeOrder		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [390, 65, 410, 85]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [15, 0; 0, -85]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "out_1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "in_1"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transport\nDelay"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 40]
		    DstBlock		    "Transport\nDelay"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "repeated\ncycle"
	      Ports		      [0, 1]
	      Position		      [45, 67, 80, 103]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"repeated\ncycle"
		Location		[5, 85, 427, 241]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [45, 60, 65, 80]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [110, 60, 150, 80]
		  Expr			  "rem(u+avgtime*0.75,period)"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up Table"
		  Position		  [210, 58, 250, 82]
		  InputValues		  "t"
		  OutputValues		  "y"
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [285, 60, 305, 80]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Look-Up Table"
		  SrcPort		  1
		  DstBlock		  "out_1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Fcn1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [245, 75, 265, 95]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "repeated\ncycle"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "req'd vehicle\nspeed (m/s)"
	  Position		  [740, 95, 760, 115]
	  FontName		  "Arial"
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "repeated cycle\ngrade vs. distance"
	  SrcPort		  1
	  Points		  [155, 0]
	  Branch {
	    Labels		    [1, 0]
	    DstBlock		    "Goto <altia>1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Switch3"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "distance\ntravelled (m)"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    DstBlock		    "repeated cycle\ngrade vs. distance"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Derivative"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 70]
	    Branch {
	      DstBlock		      "Goto <sdo>1"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 70]
	      DstBlock		      "repeated cycle\nvehicle cargo mass vs. "
"distance"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Switch3"
	  SrcPort		  1
	  Points		  [0, -5; 5, 0]
	  Branch {
	    DstBlock		    "Trigonometric\nFunction"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 35]
	    DstBlock		    "Goto \n<veh><vc><sdo>"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Integrator"
	  SrcPort		  1
	  DstBlock		  "Goto <sdo>2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Trigonometric\nFunction"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Derivative"
	  SrcPort		  1
	  Points		  [410, 0]
	  DstBlock		  "Product"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "Integrator"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Switch1"
	  SrcPort		  1
	  Points		  [85, 0]
	  Branch {
	    DstBlock		    "Switch2"
	    DstPort		    3
	  }
	  Branch {
	    DstBlock		    "Goto <altia>"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "repeated cycle\nspeed vs. time"
	  SrcPort		  1
	  Points		  [155, 0]
	  DstBlock		  "Switch1"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  Points		  [60, 0]
	  DstBlock		  "Switch1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "super-smooth,\nno-lag trace"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    DstBlock		    "Backlash"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 65]
	    DstBlock		    "Relational\nOperator"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  DstBlock		  "Relational\nOperator"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Backlash"
	  SrcPort		  1
	  DstBlock		  "Switch"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Relational\nOperator"
	  SrcPort		  1
	  Points		  [20, 0; 0, -60]
	  DstBlock		  "Switch"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Constant1"
	  SrcPort		  1
	  Points		  [-10, 0; 0, -50]
	  DstBlock		  "Switch"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Constant2"
	  SrcPort		  1
	  Points		  [10, 0; 0, -55]
	  DstBlock		  "Switch1"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Switch2"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    DstBlock		    "Goto <sdo><vc>"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "mph-->m/s"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "mph-->m/s"
	  SrcPort		  1
	  DstBlock		  "req'd vehicle\nspeed (m/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From"
	  SrcPort		  1
	  Points		  [40, 0]
	  DstBlock		  "Switch2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Altia_Run1"
	  SrcPort		  1
	  Points		  [0, 25]
	  DstBlock		  "Switch2"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "From1"
	  SrcPort		  1
	  Points		  [30, 0]
	  DstBlock		  "Switch3"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Altia_Run"
	  SrcPort		  1
	  Points		  [0, 20]
	  DstBlock		  "Switch3"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "repeated cycle\nvehicle cargo mass vs. dist"
"ance"
	  SrcPort		  1
	  Points		  [65, 0]
	  Branch {
	    DstBlock		    "Goto \n<veh><vc><sdo>1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 70]
	    DstBlock		    "To Workspace"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "ambient pressure\ncalc (atm)"
	  SrcPort		  1
	  DstBlock		  "To Workspace1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From2"
	  SrcPort		  1
	  DstBlock		  "ambient pressure\ncalc (atm)"
	  DstPort		  1
	}
      }
    }
  }
}
