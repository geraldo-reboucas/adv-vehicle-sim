Library {
  Name			  "lib_fuel_converter"
  Version		  4.00
  LibraryLinkDisplay	  "none"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  BlockNameDataTip	  on
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	on
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  Created		  "Tue May 30 15:35:17 2000"
  Creator		  "NREL"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "abrooker"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Fri Aug 15 07:05:42 2003"
  ModifiedComment	  "abrooker -- Wed Jun 19 09:43:22 2002 -- Version 3.0"
"440\n"
  ModifiedHistory	  "abrooker -- Wed Jun 19 09:43:22 2002 -- Version 3.0"
"440\n\n\nabrooker -- Thu May 02 16:55:00 2002 -- Version 3.0439\ndeleted obso"
"lete saber fc's\n\nmokeefe -- Wed May 01 08:51:04 2002 -- Version 3.0438\ncha"
"nged the way scaling occurs on the FC temperature correction in the EO emissi"
"ons and fuel usage block\n\ntmarkel -- Tue Apr 30 08:52:52 2002 -- Version 3."
"0437\nremoved fuel cell model - moved to lib_fuel_cell\n\n\nkharalds -- Thu A"
"pr 25 16:04:02 2002 -- Version 3.0436\nRemoved the 4th input to Multi-port sw"
"itches 1, 2, 3, 4 & blank (no number). \n\nkharalds -- Fri Apr 19 16:04:21 20"
"02 -- Version 3.0435\nRemoved fuel cell model option # 4 and its connections."
"\n\nkharalds -- Fri Apr 19 08:05:59 2002 -- Version 3.0434\n\n\nkharalds -- F"
"ri Apr 19 08:04:37 2002 -- Version 3.0433\n\n\nkharalds -- Thu Apr 18 18:08:3"
"3 2002 -- Version 3.0432\n\n\nkharalds -- Thu Apr 18 18:05:53 2002 -- Version"
" 3.0431\n\n\nkharalds -- Thu Apr 18 18:00:41 2002 -- Version 3.0430\n\n\nmoke"
"efe -- Thu Apr 18 08:34:16 2002 -- Version 3.0429\nsaving the model:\no \"wit"
"hout the model browser open\"\no with only top-level screen visible \no with "
"\"fit to view\" enabled\no with \"status bar\" off and \"toolbar\" off\no wit"
"h \"prompt to update model history with each save\" on\n\nkharalds -- Thu Apr"
" 11 18:04:51 2002 -- Version 3.0250\nchanges in modified Springer fuel cell m"
"odel/Fuel cell stack\n\n\nkharalds -- Thu Apr 11 18:04:51 2002 -- Version 3.0"
"250\nchanges in modified Springer fuel cell model/Fuel cell stack\n\n\nkharal"
"ds -- Thu Apr 11 17:31:07 2002 -- Version 3.0249\nchanges in modified Springe"
"r fuel cell model block\n\nkharalds -- Thu Apr 11 17:18:13 2002 -- Version 3."
"0248\n\n\nkharalds -- Thu Apr 11 17:15:16 2002 -- Version 3.0247\n\n\nkharald"
"s -- Thu Apr 11 17:12:55 2002 -- Version 3.0246\nadded connections for fuel c"
"ell model option # 4 (multiport switches)\n\n\nkharalds -- Thu Apr 11 17:10:5"
"3 2002 -- Version 3.0245\n04/11/02 added connections for modified Springer fu"
"el cell model\n\nkharalds -- Thu Apr 11 16:55:05 2002 -- Version 3.0244\n\n\n"
"mokeefe -- Wed Apr 10 13:00:58 2002 -- Version 3.0243\nfixed broken links\n\n"
"mokeefe -- Wed Apr 10 11:52:00 2002 -- Version 3.0242\nadded display help for"
" neural net models\n\nmokeefe -- Wed Apr 10 11:33:37 2002 -- Version 3.0241\n"
"deleted a bad link in the neural network model\n\nmokeefe -- Wed Apr 10 09:55"
":59 2002 -- Version 3.0240\n\n\nmokeefe -- Wed Apr 10 09:55:48 2002 -- Versio"
"n 3.0239\n\n\nmokeefe -- Wed Apr 10 09:49:37 2002 -- Version 3.0238\n\n\nmoke"
"efe -- Wed Apr 10 09:47:28 2002 -- Version 3.0237\nupdated to add an O2 looku"
"p table block that had gotten mis-linked in the original version.\n\nmokeefe "
"-- Wed Apr 10 09:33:36 2002 -- Version 3.0236\nfixed broken links in the Sabe"
"r * fuel converter files\n\nmokeefe -- Wed Apr 10 09:30:23 2002 -- Version 3."
"0235\nfixed the configurable subsystem name to not have a newline character\n"
"\nmokeefe -- Tue Apr 09 16:13:42 2002 -- Version 3.0234\n\n\nmokeefe -- Tue A"
"pr 09 16:12:25 2002 -- Version 3.0233\nimplementing configurable subsystems f"
"or the \"fuel use and EO emis\" block (to allow switch out with the West Virg"
"inia University Neural Network models)\n\nkharalds -- Thu Apr 04 16:49:01 200"
"2 -- Version 3.0232\nIntroduced a subsystem (copied from polarization fuel ce"
"ll model), and a multiport switch. The proper connections are howevere not ye"
"t implemented!\n\nkharalds -- Thu Apr 04 16:45:05 2002 -- Version 3.0231\n\n"
"\nkharalds -- Thu Apr 04 16:36:08 2002 -- Version 3.0230\nAdded fc_model cons"
"tant # 4 and connections (for a new FC model) in fuel cell system block\nRemo"
"ved erroneous block notes under auxiliary blocks (polarization FC model)\n\nm"
"okeefe -- Wed Mar 06 08:05:16 2002 -- Version 3.0229\nadded the acc_mech_spd_"
"est block to series fuel converter\n\nmokeefe -- Tue Mar 05 15:37:33 2002 -- "
"Version 3.0228\nadding the fc_spd_est tag for fuel converter for series\n\nmo"
"keefe -- Tue Mar 05 15:27:34 2002 -- Version 3.0227\nadded global goto tag fc"
"_spd_est to fuel converter <fc> for series\n\nmokeefe -- Tue Mar 05 15:27:31 "
"2002 -- Version 3.0226\n\n\nmokeefe -- Tue Mar 05 15:26:09 2002 -- Version 3."
"0225\n\n\nmokeefe -- Mon Mar 04 08:06:58 2002 -- Version 3.0224\n\n\nmokeefe "
"-- Mon Mar 04 08:04:43 2002 -- Version 3.0223\nin fuel converter <fc>, engine"
" torque, removed the switch block that cuts fc_trq_out_a to zero when the clu"
"tch state equals one. Engine torque must be passed out of the engine so that "
"the auxiliary block can pick it up. The devices using \"clutch_state\" alread"
"y kill the torque to zero between _in and _out properties anyway, so this app"
"ears to have been redundant.\n\nmokeefe -- Thu Feb 28 08:25:30 2002 -- Versio"
"n 3.0222\n\n\nmokeefe -- Thu Feb 28 08:25:02 2002 -- Version 3.0221\n\n\nmoke"
"efe -- Wed Feb 27 14:08:59 2002 -- Version 3.0220\n\n\nmokeefe -- Mon Feb 25 "
"16:05:48 2002 -- Version 3.0219\n\n\nmokeefe -- Mon Feb 25 16:04:45 2002 -- V"
"ersion 3.0218\nchanged fuel converter <fc> for series to eliminate auxiliary "
"loads inside the engine model (moving to the auxiliary library)\n\nmokeefe --"
" Fri Feb 15 09:26:47 2002 -- Version 3.0217\nchanged the engine speed estimat"
"or and fc_spd_out_a back to original\n\nmokeefe -- Fri Feb 15 07:18:44 2002 -"
"- Version 3.0216\n\n\nmokeefe -- Fri Feb 15 07:18:18 2002 -- Version 3.0215\n"
"changed the definition of fc_spd_out_a back to the original spd_command signa"
"l\n\nmokeefe -- Thu Feb 14 17:06:09 2002 -- Version 3.0214\nupdated fuel conv"
"erter <fc> with auxiliary loads tags: acc_mech_trq_est and acc_mech_trq\n\nmo"
"keefe -- Thu Feb 14 15:04:58 2002 -- Version 3.0213\nadded acc_mech_trq_est F"
"ROM tag from accessory block to the engine speed estimator\n\nmokeefe -- Thu "
"Feb 14 10:51:22 2002 -- Version 3.0212\n\n\nmokeefe -- Thu Feb 14 08:43:33 20"
"02 -- Version 3.0211\ndeleted unconnected block in lib_fuel_converter\n\nmoke"
"efe -- Thu Feb 14 08:14:24 2002 -- Version 3.0210\nupdate the fuel converter "
"<fc> with new library blocks for accessories\n\nssprik -- Fri Nov 02 16:24:16"
" 2001 -- Version 3.0209\nadded fc_fuel_rate as a 'to workspace' variable\n\na"
"brooker -- Tue Oct 09 16:22:51 2001 -- Version 3.0208\nupdated saber cosim S-"
"fun demux signals (from Joe)\n\ntmarkel -- Thu Sep 27 09:07:46 2001 -- Versio"
"n 3.0207\napplied map based temperature correction block fixes to fuel cell f"
"uel converter - same as was done in ic engine fuel converter\n\nabrooker -- M"
"on Sep 17 09:57:12 2001 -- Version 3.0206\n\n\ntmarkel -- Fri Sep 14 16:12:10"
" 2001 -- Version 3.0205\nset normalized temperature saturation block limits t"
"o 0 to 1 from -1 to 0 and removed extraneous fuel and emissions constituent s"
"aturation limits\n\nrange is 0 to 1 so that we do not extrapolate outside of "
"the known region\n\nthe secondary saturation blocks were removed because they"
" were redundant with the temperature limit saturation block\n\nOnly applied t"
"o basic fuel converter for now but should be applicable to all fuel converter"
" models.\n\ntmarkel -- Fri Sep 14 15:48:49 2001 -- Version 3.0204\n\n\ntmarke"
"l -- Fri Sep 14 15:06:09 2001 -- Version 3.0203\n\n\ntmarkel -- Fri Sep 14 14"
":55:14 2001 -- Version 3.0202\nupdated saturation on normalized temperature r"
"ange in block map based temp correct in fuel use and emissions from -1 to 0 t"
"o 0 to 1\nadded manual switches around all saturation blocks for testing purp"
"oses.\n\n\nabrooker -- Thu Jul 26 13:36:31 2001 -- Version 3.0201\nUpdated to"
" add 14V Aux Loads to acc_elec_pwr\n\nabrooker -- Thu Jul 26 10:42:44 2001 --"
" Version 3.0200\nchanged Aux Loads 14V lib submodel to be in Library: sub_lib"
"_models file\n\nabrooker -- Thu Jul 26 10:31:48 2001 -- Version 3.0199\nchang"
"ed 14V aux loads sub model to sub lib model\n\nabrooker -- Tue Jul 24 12:52:1"
"2 2001 -- Version 3.0196\nMade fix to 14V Aux Loads\n\nabrooker -- Tue Jul 24"
" 11:43:48 2001 -- Version 3.0195\n\n\nabrooker -- Tue Jul 24 11:43:18 2001 --"
" Version 3.0194\nmade changes to 42 V Aux Loads :multiply by key on\n\nabrook"
"er -- Tue Jul 24 11:43:12 2001 -- Version 3.0193\n\n\nabrooker -- Tue Jul 24 "
"11:38:39 2001 -- Version 3.0192\n\n\nabrooker -- Tue Jul 24 11:37:11 2001 -- "
"Version 3.0191\nmade changes to Aux Loads 14V\n\nabrooker -- Tue Jul 24 11:28"
":05 2001 -- Version 3.0190\nCreated sub-model from Aux Loads 14V\n\narajagop "
"-- Mon Jul 23 17:14:36 2001 -- Version 3.0189\n\n\narajagop -- Mon Jul 23 17:"
"12:34 2001 -- Version 3.0188\n\n\narajagop -- Mon Jul 23 17:12:09 2001 -- Ver"
"sion 3.0187\n\n\narajagop -- Mon Jul 23 17:09:52 2001 -- Version 3.0186\n\n\n"
"arajagop -- Mon Jul 23 17:02:25 2001 -- Version 3.0185\n\n\nabrooker -- Mon J"
"ul 23 14:15:51 2001 -- Version 3.0184\n\n\nabrooker -- Mon Jul 23 14:00:39 20"
"01 -- Version 3.0183\nconnected \"starter\" arrow\n\n\nmokeefe -- Thu Jul 19 "
"15:10:44 2001 -- Version 3.0182\nmodified fuel converter for fuel cell so tha"
"t it will work in ADVISOR v 3.2. Values for O2 in g/s are passed through (dum"
"my values of zero) to comply with the new emissions blocks\n\nvjohnson -- Tue"
" Jul 03 10:43:46 2001 -- Version 3.0156\n\n\nmokeefe -- Fri Jun 29 15:12:06 2"
"001 -- Version 3.0155\n\nadded sub-model collection and substituted veh_mass+"
"veh_cargo_mass  for veh_mass \n\nmokeefe -- Fri Jun 29 14:55:50 2001 -- Versi"
"on 3.0154\n\n\nmokeefe -- Fri Jun 29 09:01:29 2001 -- Version 3.0153\n\nupdat"
"ing fuel converter Saver SV <fc> for veh_mass to veh_mass+veh_cargo_mass\n\n"
"\nmokeefe -- Fri Jun 29 08:51:40 2001 -- Version 3.0152\n\nreplacing engine i"
"nertia calculation that uses veh_mass with veh_mass+veh_cargo_mass in fuel co"
"nverter Saber DV <fc>\n\nmokeefe -- Fri Jun 29 08:38:48 2001 -- Version 3.015"
"1\n\nchanging veh_mass to veh_mass plus veh_cargo_mass in fuel converter <fc>"
" for Saber custom\n\nvjohnson -- Thu May 24 09:57:06 2001 -- Version 3.052\n"
"\n\nvjohnson -- Tue Mar 20 09:14:38 2001 -- Version 3.051\n\n\nmokeefe -- Tue"
" Mar 13 11:04:59 2001 -- Version 3.050\nchanged colors of my changes back to "
"black and white defaults\n\nmokeefe -- Tue Mar 13 11:02:05 2001 -- Version 3."
"049\nchanges made to the fuel converter <fc> for series block diagram. Access"
"ory load information was being logged to the workspace immediately after calc"
"ulation. However, in the event that the engine is off, the accessory load inf"
"o was still logged to the workspace. Because the energy usage figure in post-"
"processing builds off of this accessory loads info, errors were occuring in t"
"he energy calculations. \n\nThe accessory loads information is now logged as "
"a 0 W in the event that the engine is off.\n\nvjohnson -- Tue Jan 30 17:54:01"
" 2001 -- Version 3.05\n\n\nvjohnson -- Tue Jan 30 17:52:10 2001 -- Version 3."
"04\n\n\nabrooker -- Thu Jan 18 13:40:16 2001 -- Version 3.03\n\n\nssprik -- W"
"ed Nov 01 16:23:01 2000 -- Version 3.02\nss & tm Changed the normalized tempe"
"rature for fuel use and emissions \n      temperature corrections\nunder fuel"
"_converter/fuel use and EO emis/fc temp correct\n      Changed lambda calcula"
"tion from (fc_tstat-u)/75 to (fc_tstat-u)/(fc_tstat-20) \n          where u i"
"s engine coolant temp and 20 is the ambient temp for which \n          this t"
"emperature correction was calibrated.\n      Changed the saturation immediate"
"ly after it to go to a maximum of 1 \n          instead of infinity so as to "
"not overpenalize for temperatures below 20 deg C..\n\n\nssprik -- Wed Nov 01 "
"15:30:00 2000 -- Version 3.01\nenabled comment dialogue to prompt the person "
"saving the model to add comments.\n\n"
  ModelVersionFormat	  "3.0%<AutoIncrement:447>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  AlgebraicLoopMsg	  "warning"
  MinStepSizeMsg	  "warning"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  SingleTaskRateTransMsg  "none"
  MultiTaskRateTransMsg	  "error"
  IntegerOverflowMsg	  "warning"
  CheckForMatrixSingularity "none"
  UnnecessaryDatatypeConvMsg "none"
  Int32ToFloatConvMsg	  "warning"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  LinearizationMsg	  "none"
  VectorMatrixConversionMsg "none"
  SfunCompatibilityCheckMsg "none"
  BlockPriorityViolationMsg "warning"
  ArrayBoundsChecking	  "none"
  ConsistencyChecking	  "none"
  Profile		  off
  SimulationMode	  "normal"
  RTWRetainRTWFile	  off
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "lib_fuel_converter"
    Location		    [686, 90, 1147, 546]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    212
    ScreenColor		    "automatic"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Submodel"
      Ports		      []
      Position		      [126, 377, 165, 408]
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"Submodel"
	Location		[261, 76, 936, 744]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	212
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "engine inertia as a function of total\nvehi"
"cle inertia (generous approximation)"
	  Ports			  [0, 1]
	  Position		  [130, 135, 160, 185]
	  Orientation		  "down"
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine inertia as a function of total\nve"
"hicle inertia (generous approximation)"
	    Location		    [220, 74, 995, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "automatic"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [195, 25, 265, 55]
	      Orientation	      "down"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "gear_ratio"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [322, 275, 353, 310]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      Inputs		      "*/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [580, 205, 600, 225]
	      Orientation	      "down"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "++|"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      Position		      [389, 155, 791, 180]
	      Orientation	      "down"
	      Expr		      "fc_inertia*(u*fd_ratio/wh_radius)^2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      Position		      [29, 95, 431, 120]
	      Orientation	      "down"
	      Expr		      "fc_inertia*(u*fd_ratio/wh_radius)^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "veh mass calc"
	      Ports		      [0, 1]
	      Position		      [445, 206, 525, 224]
	      BackgroundColor	      "darkGreen"
	      SourceBlock	      "lib_fuel_converter/Submodel/veh mass ca"
"lc"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [325, 370, 355, 385]
	      Orientation	      "down"
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [0, 30]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--numerator"
	      SrcPort		      1
	      Points		      [0, 135]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "engine inertia\nas a fraction of\ntotal"
" vehicle\ninertia \n(generous\napproximation)--denomenator"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "veh mass calc"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      Points		      [0, 5]
	      Branch {
		Points			[360, 0]
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--denomenator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"engine inertia\nas a fraction of\ntot"
"al vehicle\ninertia \n(generous\napproximation)--numerator"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "veh mass calc"
	  Ports			  [0, 1]
	  Position		  [105, 56, 185, 74]
	  BackgroundColor	  "darkGreen"
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "veh mass calc"
	    Location		    [167, 321, 665, 621]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [30, 105, 100, 125]
	      BackgroundColor	      "darkGreen"
	      Value		      "veh_mass"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [30, 51, 130, 79]
	      BackgroundColor	      "darkGreen"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_cargo_mass"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [155, 55, 175, 75]
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [215, 58, 245, 72]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "configurable subsystems"
      Ports		      []
      Position		      [281, 379, 321, 409]
      BackgroundColor	      "lightBlue"
      ShowPortLabels	      on
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      System {
	Name			"configurable subsystems"
	Location		[398, 190, 1161, 878]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	212
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis"
	  Ports			  [2, 3]
	  Position		  [130, 181, 290, 259]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis"
	    Location		    [360, 339, 1172, 856]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "97"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [30, 210, 50, 230]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [30, 315, 50, 335]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "(gal/s)"
	      Position		      [605, 182, 630, 208]
	      Gain		      "1/fc_fuel_den*61.02/231"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [765, 405, 821, 445]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[216, 351, 572, 427]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [177, 38]
		  Text			  "This block determines actual fuel u"
"se and engine-out emissions\ngiven the fully hot values and the engine coolan"
"t temperature.\nThe correlations used here were developed at NREL using\nFTP "
"data collected under subcontract by JDM & Associates.\nNote: PM hot/cold rela"
"tion assumed same as HC"
		}
	      }
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [525, 66, 530, 99]
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [70, 66, 135, 84]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> "
	      Position		      [65, 145, 135, 165]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)"
	      Position		      [20, 41, 75, 59]
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [325, 194, 395, 216]
	      Orientation	      "left"
	      GotoTag		      "fc_clt_tmp"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "HOT engine maps "
	      Ports		      [2, 7, 1]
	      Position		      [125, 168, 255, 412]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"HOT engine maps "
		Location		[548, 58, 983, 712]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [25, 81, 60, 99]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [25, 126, 60, 144]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [44, 440, 76, 465]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [35, 560, 91, 600]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 1139, 600]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [317, 43]
		    Text		    "This block determines the fully h"
"ot fuel use, engine-out emissions output rates, exhaust gas mass flow rate, "
"\nand engine-out exhaust gas temperature as a function of engine output torqu"
"e and speed.  \nThe engine maps (except for exhaust gas temperature) can be s"
"caled using variables fc_spd_scale and\n fc_trq_scale; it is recommended that"
" scaling values outside the range of 0.85 to 1.15 be used CAREFULLY."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "CO\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 73, 220, 97]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_co_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "CO\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [270, 496, 295, 514]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "HC\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 13, 220, 37]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_hc_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "HC\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "MF,ex\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 243, 220, 267]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_exflow_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "MF,ex\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [315, 500, 340, 520]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [4, 1]
		  Position		  [285, 52, 290, 168]
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [250, 486, 255, 519]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "NOx\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 128, 220, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_nox_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "NOx\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "O2\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 358, 220, 382]
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_o2_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "O2\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "PM\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 183, 220, 207]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_pm_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "PM\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [85, 105, 100, 125]
		  ShowName		  off
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [125, 78, 140, 102]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_trq*fc_trq_scale)"
		  LowerLimit		  "min(fc_map_trq*fc_trq_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [125, 123, 140, 147]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_spd*fc_spd_scale)"
		  LowerLimit		  "min(fc_map_spd*fc_spd_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [360, 499, 370, 546]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [280, 526, 290, 559]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Tex,eo\n(C)"
		  Ports			  [2, 1]
		  Position		  [190, 298, 220, 322]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_extmp_map"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "Tex,eo\n(C)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [185, 557, 210, 588]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_fuel_map*fc_spd_scale*fc_trq_scale/fc_eff_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "fuel\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [235, 540, 255, 560]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [400, 515, 420, 535]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [360, 565, 380, 585]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [330, 100, 350, 120]
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Flow\n(g/s)"
		  Position		  [325, 245, 345, 265]
		  Port			  "4"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Temp\n(C)"
		  Position		  [325, 300, 345, 320]
		  Port			  "5"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "amb_tmp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "O2 exhaust\n(g/s)"
		  Position		  [325, 360, 345, 380]
		  ForegroundColor	  "magenta"
		  Port			  "6"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [400, 470, 420, 490]
		  NamePlacement		  "alternate"
		  Port			  "7"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "PM\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "HC\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "CO\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, 10]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "NOx\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, -15]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "HOT emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MF,ex\n(g/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Ex Gas Flow\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tex,eo\n(C)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Ex Gas Temp\n(C)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 200]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 205]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Saturation1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 420]
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fuel\n(g/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "O2\n(g/s)"
		  SrcPort		  1
		  DstBlock		  "O2 exhaust\n(g/s)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [650, 185, 670, 205]
	      ShowName		      off
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "0"
	      LimitOutput	      off
	      UpperSaturationLimit    "inf"
	      LowerSaturationLimit    "-inf"
	      ShowSaturationPort      off
	      ShowStatePort	      off
	      AbsoluteTolerance	      "auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux4"
	      Ports		      [5, 1]
	      Position		      [765, 196, 770, 384]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 1 1 1]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux5"
	      Ports		      [2, 1]
	      Position		      [740, 16, 745, 129]
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 ]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector3"
	      Ports		      [1, 1]
	      Position		      [401, 130, 449, 145]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      InputType		      "Vector"
	      ElementSrc	      "Internal"
	      Elements		      "2"
	      RowSrc		      "Internal"
	      Rows		      "1"
	      ColumnSrc		      "Internal"
	      Columns		      "1"
	      InputPortWidth	      "4"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [435, 50, 455, 70]
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace10"
	      Position		      [625, 298, 705, 312]
	      ShowName		      off
	      VariableName	      "fc_ex_gas_flow"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace11"
	      Position		      [620, 333, 700, 347]
	      ShowName		      off
	      VariableName	      "fc_ex_gas_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace12"
	      Position		      [290, 388, 365, 402]
	      ShowName		      off
	      VariableName	      "fc_ex_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace13"
	      Position		      [555, 63, 615, 77]
	      ShowName		      off
	      VariableName	      "fc_r_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace14"
	      Position		      [485, 117, 530, 133]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      VariableName	      "fc_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace16"
	      Position		      [280, 178, 335, 192]
	      ShowName		      off
	      VariableName	      "fc_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace17"
	      Position		      [555, 83, 620, 97]
	      ShowName		      off
	      VariableName	      "fc_h_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace18"
	      Position		      [620, 368, 700, 382]
	      ShowName		      off
	      VariableName	      "fc_o2_flow"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace19"
	      Position		      [610, 158, 675, 172]
	      ShowName		      off
	      VariableName	      "fc_fuel_rate"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace8"
	      Position		      [625, 253, 700, 267]
	      ShowName		      off
	      VariableName	      "fc_emis_eo"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace9"
	      Position		      [355, 178, 410, 192]
	      Orientation	      "left"
	      ShowName		      off
	      VariableName	      "fc_clt_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp"
	      Ports		      [4, 3]
	      Position		      [275, 47, 400, 123]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp"
		Location		[417, 507, 989, 903]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "veh spd\n(m/s)"
		  Position		  [30, 65, 50, 85]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key ON?"
		  Position		  [255, 150, 275, 170]
		  Orientation		  "down"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "fc ON?"
		  Position		  [30, 35, 50, 55]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "Qfc (W)"
		  Position		  [310, 115, 330, 135]
		  NamePlacement		  "alternate"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/"
		  Position		  [385, 123, 410, 147]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/(0.2*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Ci"
		  Position		  [370, 219, 390, 241]
		  ShowName		  off
		  Gain			  "1/(0.8*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Cx"
		  Position		  [220, 262, 245, 288]
		  ShowName		  off
		  Gain			  "1/(fc_acc_mass*fc_pwr_scale*fc_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/mcp"
		  Position		  [220, 317, 245, 343]
		  Gain			  "1/(0.1*veh_glider_mass*fc_pwr_scale"
"*fc_h_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [495, 330, 551, 370]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior internal combustion engine (ICE).  \nEmphasis is on the coolant since t"
"his temperature is used to correct engine\nfuel use."
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [380, 294, 450, 316]
		  GotoTag		  "fc_hood_temp"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [320, 290, 350, 320]
		  X0			  "fc_h_init_tmp"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [4, 1]
		  Position		  [470, 151, 475, 359]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [390, 188, 395, 217]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc"
		  Ports			  [2, 1]
		  Position		  [355, 114, 365, 156]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc1"
		  Ports			  [3, 1]
		  Position		  [350, 214, 360, 246]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcm"
		  Ports			  [1, 1]
		  Position		  [425, 125, 445, 145]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_c_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx"
		  Ports			  [1, 1]
		  Position		  [260, 265, 280, 285]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_x_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx1"
		  Ports			  [1, 1]
		  Position		  [405, 220, 425, 240]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_i_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tm"
		  Ports			  [1, 1]
		  Position		  [260, 320, 280, 340]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_h_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc coolant"
		  Ports			  [2, 2, 1]
		  Position		  [225, 187, 310, 218]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc coolant"
		    Location		    [713, 350, 962, 483]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 68, 45, 82]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qfc_i "
		    Position		    [15, 88, 45, 102]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [194, 25, 226, 50]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [55, 29, 95, 41]
		    ShowName		    off
		    Value		    "fc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qhtr"
		    Position		    [65, 68, 95, 82]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "fc_cl2h_eff*fc_h_air_flow*air_cp*"
"(u - amb_tmp)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [125, 67, 135, 103]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 29, 140, 56]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_rad"
		    Position		    [205, 73, 235, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_htr"
		    Position		    [205, 108, 235, 122]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qhtr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Qfc_htr"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qfc_i "
		    SrcPort		    1
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qfc_rad"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Qhtr"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc mass heat flow"
		  Ports			  [2, 4]
		  Position		  [100, 141, 200, 354]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc mass heat flow"
		    Location		    [265, 75, 1004, 575]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [25, 213, 55, 227]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc_temp"
		    Position		    [25, 23, 55, 37]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [645, 435, 701, 475]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [481, 510, 978, 592]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 38]
		    Text		    "FUEL CONVERTER MASS HEAT LOSS\nTh"
"is block models the heat loss from a fuel converter (such as an IC engine).  "
"\nConvection (as a function of vehicle speed), radiation, and conduction effe"
"cts are included.\nEngine cylinder (c), interior (i), exterior (x) and hood ("
"h) \nheat flows are estimated based on the temperatures from the previous ite"
"ration."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [310, 270, 315, 305]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [255, 190, 260, 230]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [325, 185, 330, 220]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [270, 380, 275, 420]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [2, 1]
		    Position		    [365, 362, 370, 413]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [235, 275, 240, 315]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh"
		    Ports		    [3, 1]
		    Position		    [585, 342, 595, 438]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,r"
		    Position		    [140, 430, 510, 450]
		    FontName		    "Arial"
		    Expr		    "fc_hood_emisv*(5.67e-8)*fc_hood_s"
"area*((amb_tmp+273)^4 - (u(4)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,v"
		    Position		    [400, 379, 530, 401]
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_hood_sarea*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh2x"
		    Ports		    [3, 1]
		    Position		    [535, 157, 545, 253]
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r"
		    Position		    [380, 240, 505, 260]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*fc_ext_sarea*f"
"c_pwr_scale^0.67*((u(4)+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r1"
		    Position		    [345, 326, 495, 344]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*(0.5*fc_ext_sa"
"rea*fc_pwr_scale^0.67)*((amb_tmp+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v"
		    Position		    [355, 197, 410, 213]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_ext_sarea*fc_pwr_scale^0."
"67*u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v1"
		    Position		    [350, 281, 420, 299]
		    FontName		    "Arial"
		    Expr		    "u(2)*(0.5*fc_ext_sarea*fc_pwr_sca"
"le^0.67)*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [560, 44, 570, 91]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qi2c,c"
		    Position		    [110, 21, 250, 39]
		    FontName		    "Arial"
		    Expr		    "fc_c2i_th_cond*(u(2) - u(1))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v5"
		    Position		    [170, 191, 220, 209]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "u(4)-u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v6"
		    Position		    [150, 382, 230, 398]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [125, 277, 205, 293]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(3)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx"
		    Ports		    [3, 1]
		    Position		    [590, 171, 600, 219]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx1"
		    Ports		    [2, 1]
		    Position		    [545, 289, 555, 336]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2i,c"
		    Position		    [105, 71, 255, 89]
		    FontName		    "Arial"
		    Expr		    "fc_i2x_th_cond*(u(3) - u(2))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2p,c"
		    Position		    [110, 134, 260, 156]
		    FontName		    "Arial"
		    Expr		    "fc_h2x_th_cond*(u(4) - u(3))"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [125, 207, 155, 233]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv1"
		    Position		    [105, 292, 135, 318]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2a"
		    Position		    [300, 390, 335, 410]
		    FontName		    "Arial"
		    Expr		    "10 + 6*(abs(u(1))/1000)^0.3 + 60*"
"(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x"
		    Position		    [275, 200, 310, 220]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x1"
		    Position		    [255, 285, 290, 305]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_c"
		    Position		    [655, 23, 685, 37]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_i"
		    Position		    [650, 63, 680, 77]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_x"
		    Position		    [650, 188, 680, 202]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_h"
		    Position		    [655, 383, 685, 397]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Qh2x,r"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2a,v"
		    SrcPort		    1
		    DstBlock		    "Qh"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2a,r"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Qh"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2x,v1"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Qx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,r1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Qx1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx2p,c"
		    SrcPort		    1
		    Points		    [255, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,v"
		    SrcPort		    1
		    DstBlock		    "Qh2x"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Qx"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "h_h2a"
		    SrcPort		    1
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v6"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "h_h2a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Qh2a,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh"
		    SrcPort		    1
		    DstBlock		    "Qfc_h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Qh"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Qx"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Qx"
		    SrcPort		    1
		    DstBlock		    "Qfc_x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Qfc_i"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qx2i,c"
		    SrcPort		    1
		    Points		    [200, 0]
		    Branch {
		    Points		    [0, 35; 105, 0; 0, 65]
		    DstBlock		    "Qx"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "fc_temp"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Qi2c,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qx2i,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Qp2a,v5"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qh2x,r1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Qh2a,r"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qp2a,v6"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qh2x,r"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qx2p,c"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Qi2c,c"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qfc_c"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    DstBlock		    "Va/Vv1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v5"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -15; 80, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "h_h2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Va/Vv1"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "h_h2x1"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [-5, 0; 0, -15; 75, 0]
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "h_h2x1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "old fc coolant \ntemp. (C)"
		  Ports			  [2, 1]
		  Position		  [150, 30, 180, 90]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "old fc coolant \ntemp. (C)"
		    Location		    [-29, 578, 441, 784]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc on?"
		    Position		    [45, 40, 65, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [45, 100, 65, 120]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 150, 451, 190]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [351, 607, 683, 747]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 68]
		    Text		    "This block computes engine coolan"
"t temperature,\nassuming that it asymptotically approaches its maximum\ntempe"
"rature when the engine is on, and asymptotically\napproaches the ambient temp"
"erature when the engine\nis off.  Temperatue rise rate is assumed to be a fun"
"ction\nonly of current engine coolant temperature, and the fall\nrate is also"
" a function of vehicle speed and ambient temperature.\nThere is no dependence"
" on engine load or speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [210, 32, 240, 158]
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "TEC"
		    Ports		    [1, 1]
		    Position		    [320, 85, 340, 105]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "compute\nengine dT/dt"
		    Position		    [270, 84, 300, 106]
		    Expr		    "1.1*u[1]*(-u[2]/218)*(95-u[4])+(1"
"-u[1])*u[3]*(u[4]-amb_tmp)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "gamma\n(takes v as input)"
		    Position		    [95, 99, 125, 121]
		    Expr		    "(-8.22e-5*u+8.09e-6*4-1.45e-4)*.4"
"5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "log(1-40/75)"
		    Position		    [145, 69, 190, 91]
		    Value		    "-0.7621"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc coolant \ntemp (C)"
		    Position		    [410, 85, 430, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "TEC"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 80; -210, 0; 0, -35]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "fc coolant \ntemp (C)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "gamma\n(takes v as input)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc on?"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "compute\nengine dT/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "log(1-40/75)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gamma\n(takes v as input)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "compute\nengine dT/dt"
		    SrcPort		    1
		    DstBlock		    "TEC"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc_old\n (C)"
		  Position		  [500, 50, 520, 70]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qfc r,h"
		  Position		  [505, 195, 525, 215]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc\n (C)"
		  Position		  [510, 245, 530, 265]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Qc"
		  SrcPort		  1
		  DstBlock		  "1/"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/"
		  SrcPort		  1
		  DstBlock		  "Tcm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qfc (W)"
		  SrcPort		  1
		  DstBlock		  "Qc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Qc"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Qc1"
		  SrcPort		  1
		  DstBlock		  "1/Ci"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Ci"
		  SrcPort		  1
		  DstBlock		  "Tcx1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tcm"
		  SrcPort		  1
		  Points		  [0, 45]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  2
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "fc coolant"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tcx1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -55; -225, 0]
		    DstBlock		    "fc coolant"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Qfc r,h"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Cx"
		  SrcPort		  1
		  DstBlock		  "Tcx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  3
		  DstBlock		  "1/Cx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "key ON?"
		  SrcPort		  1
		  DstBlock		  "fc coolant"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Tcx"
		  SrcPort		  1
		  Points		  [165, 0; 0, 5]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    4
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1/mcp"
		  SrcPort		  1
		  DstBlock		  "Tm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  4
		  DstBlock		  "1/mcp"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 115; -400, 0]
		    DstBlock		    "fc mass heat flow"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Tfc\n (C)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "old fc coolant \ntemp. (C)"
		  SrcPort		  1
		  DstBlock		  "Tfc_old\n (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh spd\n(m/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "fc mass heat flow"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc ON?"
		  SrcPort		  1
		  DstBlock		  "old fc coolant \ntemp. (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Annotation {
		  Position		  [461, 318]
		  Text			  "h"
		}
		Annotation {
		  Position		  [458, 270]
		  Text			  "x"
		}
		Annotation {
		  Position		  [459, 221]
		  Text			  "i"
		}
		Annotation {
		  Position		  [459, 172]
		  Text			  "c"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp correct"
	      Ports		      [5, 2, 1]
	      Position		      [445, 174, 585, 276]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp correct"
		Location		[61, 253, 669, 718]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Coolant T (C)"
		  Position		  [105, 110, 125, 130]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [50, 145, 70, 165]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [105, 180, 125, 200]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [50, 346, 85, 364]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [90, 366, 125, 384]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [424, 30, 456, 55]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "=1: use map based\n=0: use constant"
" equation based"
		  Position		  [85, 24, 145, 56]
		  Value			  "fc_cold"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [425, 125, 455, 155]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [435, 190, 465, 220]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  Ports			  [3, 2, 1]
		  Position		  [210, 105, 350, 205]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Location		    [54, 367, 669, 825]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [65, 175, 85, 195]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [105, 30, 125, 50]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 325, 125, 345]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [459, 210, 491, 235]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [440, 125, 496, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [222, 357, 578, 433]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nHo"
"t and Cold Engine data collected \nat Oak Ridge National Laboratory."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "CO cold/hot"
		    Position		    [245, 174, 275, 196]
		    Expr		    "2.13*pow(u,4.26)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "HC cold/hot"
		    Position		    [245, 124, 275, 146]
		    Expr		    "8.05*pow(u,9.46)+1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [320, 127, 330, 268]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "NOx cold/hot"
		    Position		    [245, 219, 275, 241]
		    Expr		    "0.51*pow(u,1.37)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "PM cold/hot"
		    Position		    [245, 264, 275, 286]
		    Expr		    "5.14*pow(u,17.04)+1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [390, 311, 415, 344]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 33, 395, 57]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [195, 174, 205, 196]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "fuel cold/hot"
		    Position		    [245, 69, 275, 91]
		    Expr		    "0.1*pow(u,0.65)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "lambda"
		    Position		    [145, 174, 175, 196]
		    Expr		    "(fc_tstat-u)/(fc_tstat-20)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [460, 35, 480, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [475, 320, 495, 340]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "lambda"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "CO cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel cold/hot"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [30, 0; 0, 120]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lambda"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "PM cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "NOx cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "fuel cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "HC cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "CO cold/hot"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HC cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "NOx cold/hot"
		    SrcPort		    1
		    Points		    [20, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "PM cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  Ports			  [5, 2, 1]
		  Position		  [210, 284, 350, 386]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Location		    [244, 74, 899, 662]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [315, 65, 335, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [325, 520, 345, 540]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 101, 65, 119]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 146, 65, 164]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [564, 230, 596, 255]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    Position		    [105, 24, 135, 46]
		    Expr		    "(fc_tstat-u)/(fc_tstat-fc_cold_tm"
"p)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 293, 220, 317]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 213, 220, 237]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [275, 129, 280, 176]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [260, 189, 265, 236]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [260, 269, 265, 316]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 344, 265, 391]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [260, 419, 265, 466]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [4, 1]
		    Position		    [455, 267, 465, 408]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 368, 220, 392]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 443, 220, 467]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [520, 331, 545, 364]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [520, 68, 550, 92]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [90, 98, 105, 122]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [90, 143, 105, 167]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    Position		    [325, 144, 355, 166]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    Position		    [325, 214, 355, 236]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    Position		    [325, 284, 355, 306]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    Position		    [325, 359, 355, 381]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    Position		    [320, 434, 350, 456]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [195, 147, 220, 178]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "limit to\ndata\nlimits"
		    Position		    [210, 23, 230, 47]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [585, 70, 605, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [590, 340, 610, 360]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [55, 0; 0, 60]
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HC factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "CO factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NOx factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "PM factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [155, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    SrcPort		    1
		    DstBlock		    "limit to\ndata\nlimits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limit to\ndata\nlimits"
		    SrcPort		    1
		    Points		    [10, 0; 0, 105]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40; 125, 0; 0, -30]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 60]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    SrcPort		    1
		    Points		    [45, 0; 0, 25]
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    SrcPort		    1
		    Points		    [50, 0; 0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    SrcPort		    1
		    Points		    [60, 0; 0, -55]
		    DstBlock		    "Mux6"
		    DstPort		    4
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "fc_cold=0"
		  Ports			  [1, 1]
		  Position		  [240, 24, 270, 56]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use\n(g/s)"
		  Position		  [495, 130, 515, 150]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\n(g/s)"
		  Position		  [495, 195, 515, 215]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "=1: use map based\n=0: use constant"
" equation based"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "fc_cold=0"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 215; 100, 0]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "Coolant T (C)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "HOT fuel use\n(g/s)"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 160]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "HOT emis\n(g/s)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 145]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc_cold=0"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [95, 0; 0, 100]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "fuel use\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "EO emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  5
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [700, 185, 720, 205]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [795, 280, 815, 300]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [775, 65, 795, 85]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <vc> "
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		DstBlock		"HOT engine maps "
		DstPort			enable
	      }
	      Branch {
		Points			[60, 0]
		Branch {
		  Points		  [0, -60]
		  DstBlock		  "fc temp"
		  DstPort		  3
		}
		Branch {
		  Points		  [265, 0]
		  Branch {
		    DstBlock		    "fc temp correct"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [235, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      2
	      Points		      [0, -5; 20, 0]
	      Branch {
		DstBlock		"To Workspace8"
		DstPort			1
	      }
	      Branch {
		Points			[140, 0]
		DstBlock		"Mux4"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "To Workspace17"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "To Workspace13"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      2
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"To Workspace16"
		DstPort			1
	      }
	      Branch {
		DstBlock		"fc temp"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "Selector3"
	      SrcPort		      1
	      Points		      [0, 35]
	      Branch {
		DstBlock		"fc temp correct"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  DstBlock		  "To Workspace9"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 20]
		  DstBlock		  "Goto"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      7
	      DstBlock		      "To Workspace12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      3
	      Points		      [20, 0]
	      Branch {
		Labels			[1, 0]
		Points			[40, 0]
		Branch {
		  Points		  [260, 0]
		  DstBlock		  "Mux5"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 15]
		  DstBlock		  "To Workspace14"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Selector3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      3
	      Points		      [125, 0; 0, -30]
	      DstBlock		      "fc temp correct"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      2
	      Points		      [170, 0]
	      DstBlock		      "fc temp correct"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "(gal/s)"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      5
	      Points		      [340, 0]
	      Branch {
		Points			[0, 15]
		DstBlock		"To Workspace11"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux4"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      4
	      Points		      [350, 0]
	      Branch {
		DstBlock		"To Workspace10"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux4"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)"
	      SrcPort		      1
	      Points		      [55, 0; 0, 5; 110, 0]
	      Branch {
		DstBlock		"fc temp"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20; 480, 0]
		DstBlock		"Mux5"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux5"
	      SrcPort		      1
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux4"
	      SrcPort		      1
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[45, 0]
		DstBlock		"HOT engine maps "
		DstPort			2
	      }
	      Branch {
		Points			[0, 130; 365, 0]
		DstBlock		"fc temp correct"
		DstPort			5
	      }
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[35, 0]
		DstBlock		"HOT engine maps "
		DstPort			1
	      }
	      Branch {
		Points			[0, 220; 330, 0; 0, -195]
		DstBlock		"fc temp correct"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      6
	      Points		      [345, 0]
	      Branch {
		DstBlock		"Mux4"
		DstPort			5
	      }
	      Branch {
		DstBlock		"To Workspace18"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"(gal/s)"
		DstPort			1
	      }
	      Branch {
		Points			[0, -35]
		DstBlock		"To Workspace19"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Configurable Subsystem"
	  Ports			  [2, 3]
	  Position		  [130, 299, 295, 381]
	  BackgroundColor	  "lightBlue"
	  ShowPortLabels	  on
	  BlockChoice		  "fuel use and EO emis"
	  TemplateBlock		  "self"
	  MemberBlocks		  "fuel use and EO emis,fuel use and EO emis N"
"eural Network Model"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis Configurable Subsyst"
"em"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "fuel use and EO emis"
	      Ports		      [2, 3]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "lightBlue"
	      SourceBlock	      "lib_fuel_converter/configurable subsyst"
"ems/fuel use and EO emis"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -20]
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      2
	      Points		      [20, 0; 0, 30]
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      3
	      Points		      [10, 0; 0, 55]
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Neural Network Model"
	  Ports			  [2, 3]
	  Position		  [125, 46, 285, 124]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDescription	  "Neural Network Model for Engine Fuel and Em"
"issions Prediction"
	  MaskHelp		  "<h1>Neural Network Emissions Block Help</h1"
">\n<h2>Introduction</h2>\n<p>The neural network model takes engine shaft spee"
"d and torque and their time derivatives at 5 seconds and 10 seconds and predi"
"cts CO, CO2, and NOx emissions in g/s. Inputs to the model are speed (rpm) an"
"d torque (Nm). Outputs are CO, CO2, and NOx emissions in g/s.</p>\n\n<p>There"
" are neural network models trained for two engines thus far:</p>\n<ol>\n<li>1"
"999 Cummins ISM 370</li>\n<li>1994 Navistar T 444E</li>\n</ol>\n<p>In order t"
"o access the neural net models, one must type a string into the mask input sc"
"reen. That string corresponds to:</p>\n\n<table border=1>\n<tr><td>Name</td><"
"td>Engine</td></tr>\n<tr><td>'1999CumminsISM370'</td><td>Cummins ISM 370</td>"
"</tr>\n<tr><td>'1994NavistarT444E'</td><td>Navistar T 444E</td></tr>\n</table"
">"
	  MaskPromptString	  "model no. (see help for specs)"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "modelName=@1;"
	  MaskInitialization	  "if strcmp(modelName,'1999CumminsISM370')\n "
"    modelNum=0;\n     disp('Neural Net Model: 1999CumminsISM370')\nelseif str"
"cmp(modelName,'1994NavistarT444E')\n     modelNum=1;\n     disp('Neural Net M"
"odel: 1994NavistarT444E')\nelse\n     modelNum=-1;\n     disp('Neural Net Mod"
"el: Invalid Setting!')\n     disp('check value of fc_nn_model_name')\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "fc_nn_model_name"
	  System {
	    Name		    "fuel use and EO emis Neural Network Model"
	    Location		    [301, 238, 1031, 910]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    282
	    ScreenColor		    "darkGreen"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "62"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [30, 195, 50, 215]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [30, 270, 50, 290]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "(g/s) to\n(gal/s)"
	      Position		      [650, 97, 685, 123]
	      Gain		      "1/fc_fuel_den*61.02/231"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [370, 821, 375, 854]
	      ShowName		      off
	      Outputs		      "2"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      Ports		      [1, 3]
	      Position		      [295, 632, 300, 738]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "3"
	      BusSelectionMode	      off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      Ports		      [1, 4]
	      Position		      [875, 630, 880, 790]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "4"
	      BusSelectionMode	      off
	      Port {
		PortNumber		1
		Name			"HC"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		2
		Name			"CO"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		3
		Name			"NOx"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	      Port {
		PortNumber		4
		Name			"PM"
		TestPoint		off
		LinearAnalysisOutput	off
		LinearAnalysisInput	off
		RTWStorageClass		"Auto"
	      }
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [15, 687, 110, 713]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [15, 821, 80, 839]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "key_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> "
	      Position		      [250, 15, 320, 35]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 1"
	      Position		      [610, 595, 680, 615]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 2"
	      Position		      [15, 860, 85, 880]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_th_pwr"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 3"
	      Position		      [15, 840, 85, 860]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 4"
	      Position		      [520, 100, 615, 120]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_fuel_gps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 5"
	      Position		      [605, 150, 675, 170]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc> 6"
	      Position		      [605, 185, 675, 205]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_eo_emis"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)"
	      Position		      [15, 801, 70, 819]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)1"
	      Position		      [640, 341, 695, 359]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "v_prev"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)2"
	      Position		      [15, 46, 70, 64]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)3"
	      Position		      [450, 236, 550, 254]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)4"
	      Position		      [450, 271, 550, 289]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)5"
	      Position		      [450, 306, 550, 324]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_o2_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)6"
	      Position		      [110, 96, 210, 114]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hot_emis"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)7"
	      Position		      [640, 396, 695, 414]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>\n(m/s)8"
	      Position		      [25, 72, 145, 88]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_hot_fuel_gps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [15, 581, 110, 609]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From10"
	      Position		      [505, 792, 600, 818]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From11"
	      Position		      [505, 672, 600, 698]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From12"
	      Position		      [110, 144, 205, 166]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From13"
	      Position		      [110, 119, 205, 141]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From14"
	      Position		      [940, 675, 1035, 705]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From15"
	      Position		      [940, 716, 1035, 744]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_NOx"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From16"
	      Position		      [365, 420, 445, 440]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From17"
	      Position		      [365, 440, 445, 460]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_radps"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From18"
	      Position		      [350, 505, 435, 525]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_pwr_W"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From19"
	      Position		      [350, 485, 430, 505]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From2"
	      Position		      [15, 720, 110, 750]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dT_dt_05sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From20"
	      Position		      [350, 544, 455, 566]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_tmp"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From21"
	      Position		      [350, 526, 455, 544]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "fc_ex_gas_flow"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From22"
	      Position		      [830, 100, 925, 130]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From23"
	      Position		      [830, 141, 925, 169]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_NOx"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From24"
	      Position		      [830, 70, 910, 90]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "nn_CO2"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From3"
	      Position		      [15, 756, 110, 784]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dT_dt_10sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From4"
	      Position		      [15, 615, 110, 645]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dS_dt_05sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From5"
	      Position		      [15, 650, 110, 680]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "dS_dt_10sec"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From6"
	      Position		      [25, 336, 105, 364]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From7"
	      Position		      [25, 396, 105, 424]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Torque_Nm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From8"
	      Position		      [25, 456, 105, 484]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From9"
	      Position		      [25, 516, 105, 544]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "Speed_rpm"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto"
	      Position		      [170, 25, 240, 45]
	      ForegroundColor	      "yellow"
	      BackgroundColor	      "darkGreen"
	      ShowName		      off
	      GotoTag		      "fc_clt_tmp"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [190, 265, 265, 295]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      GotoTag		      "Speed_rpm"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto10"
	      Position		      [335, 670, 425, 700]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_CO2"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto11"
	      Position		      [695, 444, 770, 466]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_th_pwr"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto12"
	      Position		      [390, 856, 465, 874]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_tmp"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto13"
	      Position		      [770, 805, 870, 825]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_o2_flow"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto14"
	      Position		      [770, 769, 870, 791]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_ex_gas_tmp"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto15"
	      Position		      [765, 734, 870, 756]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_ex_gas_flow"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto16"
	      Position		      [1080, 700, 1180, 720]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_hot_emis"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto17"
	      Position		      [660, 514, 775, 536]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_hot_fuel_gps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto18"
	      Position		      [445, 60, 535, 90]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_fuel_gps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto19"
	      Position		      [515, 429, 605, 451]
	      ForegroundColor	      "white"
	      BackgroundColor	      "black"
	      ShowName		      off
	      GotoTag		      "fc_pwr_W"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto2"
	      Position		      [190, 190, 265, 220]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      GotoTag		      "Torque_Nm"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto20"
	      Position		      [445, 155, 535, 175]
	      ForegroundColor	      "white"
	      BackgroundColor	      "red"
	      ShowName		      off
	      GotoTag		      "fc_eo_emis"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto3"
	      Position		      [260, 455, 345, 485]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dS_dt_05sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto4"
	      Position		      [260, 335, 350, 365]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dT_dt_05sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto5"
	      Position		      [260, 515, 345, 545]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dS_dt_10sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto6"
	      Position		      [260, 395, 350, 425]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      GotoTag		      "dT_dt_10sec"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto7"
	      Position		      [190, 225, 265, 255]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      GotoTag		      "Speed_radps"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto8"
	      Position		      [335, 704, 425, 736]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_NOx"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto9"
	      Position		      [335, 635, 425, 665]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      GotoTag		      "nn_CO"
	      TagVisibility	      "local"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "HOT engine maps "
	      Ports		      [2, 7, 1]
	      Position		      [620, 623, 750, 867]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"HOT engine maps "
		Location		[274, 120, 760, 774]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [25, 81, 60, 99]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [25, 126, 60, 144]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [44, 440, 76, 465]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [35, 560, 91, 600]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [281, 515, 915, 605]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [317, 43]
		    Text		    "This block determines the fully h"
"ot fuel use, engine-out emissions output rates, exhaust gas mass flow rate, "
"\nand engine-out exhaust gas temperature as a function of engine output torqu"
"e and speed.  \nThe engine maps (except for exhaust gas temperature) can be s"
"caled using variables fc_spd_scale and\n fc_trq_scale; it is recommended that"
" scaling values outside the range of 0.85 to 1.15 be used CAREFULLY."
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "CO\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 73, 220, 97]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_co_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "CO\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [270, 496, 295, 514]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "HC\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 13, 220, 37]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_hc_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "HC\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "MF,ex\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 243, 220, 267]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_exflow_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "MF,ex\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [315, 500, 340, 520]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [4, 1]
		  Position		  [285, 52, 290, 168]
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [250, 486, 255, 519]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "NOx\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 128, 220, 152]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_nox_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "NOx\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "O2\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 358, 220, 382]
		  ForegroundColor	  "magenta"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_o2_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "O2\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "PM\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [190, 183, 220, 207]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_pm_map*fc_spd_scale*fc_trq_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "PM\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [85, 105, 100, 125]
		  ShowName		  off
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [125, 78, 140, 102]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_trq*fc_trq_scale)"
		  LowerLimit		  "min(fc_map_trq*fc_trq_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [125, 123, 140, 147]
		  ShowName		  off
		  UpperLimit		  "max(fc_map_spd*fc_spd_scale)"
		  LowerLimit		  "min(fc_map_spd*fc_spd_scale)"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [360, 499, 370, 546]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [280, 526, 290, 559]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Tex,eo\n(C)"
		  Ports			  [2, 1]
		  Position		  [190, 298, 220, 322]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_extmp_map"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "Tex,eo\n(C)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fuel\n(g/s)"
		  Ports			  [2, 1]
		  Position		  [185, 557, 210, 588]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "2-D Table Lookup"
		  MaskDescription	  "Two Dimensional Table Lookup\nThe f"
"irst input corresponds to X Index and the second input corresponds to the Y I"
"ndex"
		  MaskHelp		  "This block returns a linearly inter"
"polated intersection from the table using the X index (which corresponds to t"
"he rows of the table) and the Y index (which corresponds to the columns of th"
"e table).  Extrapolation is used."
		  MaskPromptString	  "X Index|Y Index|Table"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskInitialization	  "xindex=@1; yindex=@2; table=@3; sft"
"ab2chk(xindex,yindex,table);"
		  MaskDisplay		  "plot(-10,-10,110,110,[90,50,10],[90"
",40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "fc_map_spd*fc_spd_scale|fc_map_trq*"
"fc_trq_scale|fc_fuel_map*fc_spd_scale*fc_trq_scale/fc_eff_scale"
		  MaskVariableAliases	  ",,"
		  System {
		    Name		    "fuel\n(g/s)"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [235, 540, 255, 560]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [400, 515, 420, 535]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [360, 565, 380, 585]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [330, 100, 350, 120]
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Flow\n(g/s)"
		  Position		  [325, 245, 345, 265]
		  Port			  "4"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ex Gas Temp\n(C)"
		  Position		  [325, 300, 345, 320]
		  Port			  "5"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "amb_tmp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "O2 exhaust\n(g/s)"
		  Position		  [325, 360, 345, 380]
		  ForegroundColor	  "magenta"
		  Port			  "6"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [400, 470, 420, 490]
		  NamePlacement		  "alternate"
		  Port			  "7"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "O2\n(g/s)"
		  SrcPort		  1
		  DstBlock		  "O2 exhaust\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "fuel\n(g/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 420]
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Saturation1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 205]
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, -55]
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "HC\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "CO\n(g/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "O2\n(g/s)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "fuel\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Tex,eo\n(C)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "MF,ex\n(g/s)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "PM\n(g/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "NOx\n(g/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Tex,eo\n(C)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 200]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Ex Gas Temp\n(C)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "MF,ex\n(g/s)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Ex Gas Flow\n(g/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "HOT emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "NOx\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, -15]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "CO\n(g/s)"
		  SrcPort		  1
		  Points		  [25, 0; 0, 10]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "HC\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "PM\n(g/s)"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Mux"
		  DstPort		  4
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [710, 100, 730, 120]
	      ShowName		      off
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "0"
	      LimitOutput	      off
	      UpperSaturationLimit    "inf"
	      LowerSaturationLimit    "-inf"
	      ShowSaturationPort      off
	      ShowStatePort	      off
	      AbsoluteTolerance	      "auto"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [170, 575, 175, 790]
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [4, 1]
	      Position		      [1055, 630, 1060, 790]
	      ShowName		      off
	      Inputs		      "4"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux4"
	      Ports		      [5, 1]
	      Position		      [725, 136, 730, 324]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 1 1 1]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux5"
	      Ports		      [2, 1]
	      Position		      [740, 321, 745, 434]
	      ShowName		      off
	      FontName		      "Arial"
	      Inputs		      "[1 4 ]"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [465, 421, 495, 459]
	      ShowName		      off
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "S-Function"
	      Ports		      [1, 1]
	      Position		      [195, 670, 270, 700]
	      FunctionName	      "sfunNNemis"
	      Parameters	      "modelNum"
	      PortCounts	      "[]"
	      SFunctionModules	      "''"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector3"
	      Ports		      [1, 1]
	      Position		      [100, 45, 150, 65]
	      ShowName		      off
	      InputType		      "Vector"
	      ElementSrc	      "Internal"
	      Elements		      "2"
	      RowSrc		      "Internal"
	      Rows		      "1"
	      ColumnSrc		      "Internal"
	      Columns		      "1"
	      InputPortWidth	      "4"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [280, 805, 300, 825]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator1"
	      Position		      [770, 665, 790, 685]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator2"
	      Position		      [915, 680, 935, 700]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator3"
	      Position		      [915, 720, 935, 740]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator4"
	      Position		      [770, 630, 790, 650]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator5"
	      Position		      [765, 840, 785, 860]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace1"
	      Position		      [1090, 732, 1185, 748]
	      ShowName		      off
	      VariableName	      "fc_hotemis_eo"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace10"
	      Position		      [585, 238, 665, 252]
	      ShowName		      off
	      VariableName	      "fc_ex_gas_flow"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace11"
	      Position		      [580, 273, 660, 287]
	      ShowName		      off
	      VariableName	      "fc_ex_gas_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace12"
	      Position		      [680, 547, 775, 563]
	      ShowName		      off
	      VariableName	      "fc_ex_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace13"
	      Position		      [400, 823, 465, 837]
	      ShowName		      off
	      VariableName	      "fc_r_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace14"
	      Position		      [325, 867, 370, 883]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      VariableName	      "fc_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace16"
	      Position		      [715, 468, 770, 482]
	      ShowName		      off
	      VariableName	      "fc_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace17"
	      Position		      [400, 838, 465, 852]
	      ShowName		      off
	      VariableName	      "fc_h_th_pwr"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace18"
	      Position		      [580, 308, 660, 322]
	      ShowName		      off
	      VariableName	      "fc_o2_flow"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace19"
	      Position		      [660, 73, 725, 87]
	      ShowName		      off
	      VariableName	      "fc_fuel_rate"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace2"
	      Position		      [980, 72, 1075, 88]
	      ShowName		      off
	      VariableName	      "fc_nn_CO2"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace3"
	      Position		      [980, 107, 1075, 123]
	      ShowName		      off
	      VariableName	      "fc_nn_CO"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace4"
	      Position		      [980, 147, 1075, 163]
	      ShowName		      off
	      VariableName	      "fc_nn_NOx"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace8"
	      Position		      [460, 133, 535, 147]
	      ShowName		      off
	      VariableName	      "fc_emis_eo"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      ToWorkspace
	      Name		      "To Workspace9"
	      Position		      [170, 65, 230, 75]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      VariableName	      "fc_clt_tmp"
	      MaxDataPoints	      "inf"
	      Decimation	      "1"
	      SampleTime	      "-1"
	      SaveFormat	      "Array"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 10 seconds\nSpeed"
	      Ports		      [1, 1]
	      Position		      [150, 514, 210, 546]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      ""
	      delay		      "10"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 10 seconds\nTorque"
	      Ports		      [1, 1]
	      Position		      [150, 394, 210, 426]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      ""
	      delay		      "10"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 5 seconds\nSpeed"
	      Ports		      [1, 1]
	      Position		      [150, 454, 210, 486]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      ""
	      delay		      "5"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "du/dt at 5 seconds\nTorque"
	      Ports		      [1, 1]
	      Position		      [150, 334, 210, 366]
	      SourceBlock	      "lib_etc/du//dt at N seconds"
	      SourceType	      ""
	      delay		      "5"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp"
	      Ports		      [4, 3]
	      Position		      [120, 802, 245, 878]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp"
		Location		[71, 90, 643, 486]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "veh spd\n(m/s)"
		  Position		  [30, 65, 50, 85]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "key ON?"
		  Position		  [255, 150, 275, 170]
		  Orientation		  "down"
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "fc ON?"
		  Position		  [30, 35, 50, 55]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "Qfc (W)"
		  Position		  [310, 115, 330, 135]
		  NamePlacement		  "alternate"
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/"
		  Position		  [385, 123, 410, 147]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/(0.2*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Ci"
		  Position		  [370, 219, 390, 241]
		  ShowName		  off
		  Gain			  "1/(0.8*fc_base_mass*fc_pwr_scale*fc"
"_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Cx"
		  Position		  [220, 262, 245, 288]
		  ShowName		  off
		  Gain			  "1/(fc_acc_mass*fc_pwr_scale*fc_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/mcp"
		  Position		  [220, 317, 245, 343]
		  Gain			  "1/(0.1*veh_glider_mass*fc_pwr_scale"
"*fc_h_cp)"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [495, 330, 551, 370]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [505, 510, 924, 573]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 33]
		    Text		    "This block models the thermal beh"
"avior internal combustion engine (ICE).  \nEmphasis is on the coolant since t"
"his temperature is used to correct engine\nfuel use."
		    }
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [4, 1]
		  Position		  [470, 151, 475, 359]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "4"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [390, 188, 395, 217]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc"
		  Ports			  [2, 1]
		  Position		  [355, 114, 365, 156]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Qc1"
		  Ports			  [3, 1]
		  Position		  [350, 214, 360, 246]
		  ShowName		  off
		  IconShape		  "rectangular"
		  Inputs		  "--+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcm"
		  Ports			  [1, 1]
		  Position		  [425, 125, 445, 145]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_c_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx"
		  Ports			  [1, 1]
		  Position		  [260, 265, 280, 285]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_x_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tcx1"
		  Ports			  [1, 1]
		  Position		  [405, 220, 425, 240]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_i_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Tm"
		  Ports			  [1, 1]
		  Position		  [260, 320, 280, 340]
		  ShowName		  off
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "fc_h_init_tmp"
		  LimitOutput		  off
		  UpperSaturationLimit	  "inf"
		  LowerSaturationLimit	  "-inf"
		  ShowSaturationPort	  off
		  ShowStatePort		  off
		  AbsoluteTolerance	  "auto"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc coolant"
		  Ports			  [2, 2, 1]
		  Position		  [225, 187, 310, 218]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc coolant"
		    Location		    [713, 350, 962, 483]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Tcl"
		    Position		    [15, 68, 45, 82]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Qfc_i "
		    Position		    [15, 88, 45, 102]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [194, 25, 226, 50]
		    NamePlacement	    "alternate"
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [55, 29, 95, 41]
		    ShowName		    off
		    Value		    "fc_tstat"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [165, 62, 180, 93]
		    ShowName		    off
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qhtr"
		    Position		    [65, 68, 95, 82]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "fc_cl2h_eff*fc_h_air_flow*air_cp*"
"(u - amb_tmp)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [125, 67, 135, 103]
		    ShowName		    off
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [120, 29, 140, 56]
		    ShowName		    off
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_rad"
		    Position		    [205, 73, 235, 87]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_htr"
		    Position		    [205, 108, 235, 122]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qhtr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Qfc_htr"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Qfc_i "
		    SrcPort		    1
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Qfc_rad"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tcl"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Qhtr"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc mass heat flow"
		  Ports			  [2, 4]
		  Position		  [100, 141, 200, 354]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc mass heat flow"
		    Location		    [265, 75, 1004, 575]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [25, 213, 55, 227]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "fc_temp"
		    Position		    [25, 23, 55, 37]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [645, 435, 701, 475]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [481, 510, 978, 592]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [252, 38]
		    Text		    "FUEL CONVERTER MASS HEAT LOSS\nTh"
"is block models the heat loss from a fuel converter (such as an IC engine).  "
"\nConvection (as a function of vehicle speed), radiation, and conduction effe"
"cts are included.\nEngine cylinder (c), interior (i), exterior (x) and hood ("
"h) \nheat flows are estimated based on the temperatures from the previous ite"
"ration."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux10"
		    Ports		    [2, 1]
		    Position		    [310, 270, 315, 305]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [255, 190, 260, 230]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [325, 185, 330, 220]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [270, 380, 275, 420]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [2, 1]
		    Position		    [365, 362, 370, 413]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux9"
		    Ports		    [2, 1]
		    Position		    [235, 275, 240, 315]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh"
		    Ports		    [3, 1]
		    Position		    [585, 342, 595, 438]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,r"
		    Position		    [140, 430, 510, 450]
		    FontName		    "Arial"
		    Expr		    "fc_hood_emisv*(5.67e-8)*fc_hood_s"
"area*((amb_tmp+273)^4 - (u(4)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2a,v"
		    Position		    [400, 379, 530, 401]
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_hood_sarea*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qh2x"
		    Ports		    [3, 1]
		    Position		    [535, 157, 545, 253]
		    IconShape		    "rectangular"
		    Inputs		    "+++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r"
		    Position		    [380, 240, 505, 260]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*fc_ext_sarea*f"
"c_pwr_scale^0.67*((u(4)+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,r1"
		    Position		    [345, 326, 495, 344]
		    FontName		    "Arial"
		    Expr		    "fc_emisv*(5.67e-8)*(0.5*fc_ext_sa"
"rea*fc_pwr_scale^0.67)*((amb_tmp+273)^4 - (u(3)+273)^4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v"
		    Position		    [355, 197, 410, 213]
		    NamePlacement	    "alternate"
		    FontName		    "Arial"
		    Expr		    "u(2)*fc_ext_sarea*fc_pwr_scale^0."
"67*u(1)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qh2x,v1"
		    Position		    [350, 281, 420, 299]
		    FontName		    "Arial"
		    Expr		    "u(2)*(0.5*fc_ext_sarea*fc_pwr_sca"
"le^0.67)*u(1)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qi"
		    Ports		    [2, 1]
		    Position		    [560, 44, 570, 91]
		    IconShape		    "rectangular"
		    Inputs		    "-+"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qi2c,c"
		    Position		    [110, 21, 250, 39]
		    FontName		    "Arial"
		    Expr		    "fc_c2i_th_cond*(u(2) - u(1))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v5"
		    Position		    [170, 191, 220, 209]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "u(4)-u(3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v6"
		    Position		    [150, 382, 230, 398]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qp2a,v7"
		    Position		    [125, 277, 205, 293]
		    ShowName		    off
		    FontName		    "Arial"
		    Expr		    "amb_tmp-u(3)"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx"
		    Ports		    [3, 1]
		    Position		    [590, 171, 600, 219]
		    IconShape		    "rectangular"
		    Inputs		    "-++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Qx1"
		    Ports		    [2, 1]
		    Position		    [545, 289, 555, 336]
		    IconShape		    "rectangular"
		    Inputs		    "++"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2i,c"
		    Position		    [105, 71, 255, 89]
		    FontName		    "Arial"
		    Expr		    "fc_i2x_th_cond*(u(3) - u(2))"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Qx2p,c"
		    Position		    [110, 134, 260, 156]
		    FontName		    "Arial"
		    Expr		    "fc_h2x_th_cond*(u(4) - u(3))"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv"
		    Position		    [125, 207, 155, 233]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Va/Vv1"
		    Position		    [105, 292, 135, 318]
		    Gain		    "0.5"
		    Multiplication	    "Element-wise(K.*u)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2a"
		    Position		    [300, 390, 335, 410]
		    FontName		    "Arial"
		    Expr		    "10 + 6*(abs(u(1))/1000)^0.3 + 60*"
"(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x"
		    Position		    [275, 200, 310, 220]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "h_h2x1"
		    Position		    [255, 285, 290, 305]
		    FontName		    "Arial"
		    Expr		    "6 + 6*((abs(u(1))/1000))^0.3 + 60"
"*(abs(u(2))/30)^0.6"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_c"
		    Position		    [655, 23, 685, 37]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_i"
		    Position		    [650, 63, 680, 77]
		    Port		    "2"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_x"
		    Position		    [650, 188, 680, 202]
		    Port		    "3"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Qfc_h"
		    Position		    [655, 383, 685, 397]
		    Port		    "4"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "[]"
		    }
		    Line {
		    SrcBlock		    "Qh2x,r"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2a,v"
		    SrcPort		    1
		    DstBlock		    "Qh"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qh2a,r"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Qh"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Qh2x,v1"
		    SrcPort		    1
		    Points		    [105, 0]
		    DstBlock		    "Qx1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,r1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Qx1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx2p,c"
		    SrcPort		    1
		    Points		    [255, 0]
		    DstBlock		    "Qh2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x,v"
		    SrcPort		    1
		    DstBlock		    "Qh2x"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qx1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Qx"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "h_h2a"
		    SrcPort		    1
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v6"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "h_h2a"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Qh2a,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh"
		    SrcPort		    1
		    DstBlock		    "Qfc_h"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qh2x"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Qh"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Qx"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Qx"
		    SrcPort		    1
		    DstBlock		    "Qfc_x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qi"
		    SrcPort		    1
		    DstBlock		    "Qfc_i"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Qx2i,c"
		    SrcPort		    1
		    Points		    [200, 0]
		    Branch {
		    Points		    [0, 35; 105, 0; 0, 65]
		    DstBlock		    "Qx"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qi"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "fc_temp"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Qi2c,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qx2i,c"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "Qp2a,v5"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Qh2x,r1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Qh2a,r"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qp2a,v6"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qp2a,v7"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Qh2x,r"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Qx2p,c"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Qi2c,c"
		    SrcPort		    1
		    Points		    [205, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Qi"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Qfc_c"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Va/Vv"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 85]
		    Branch {
		    DstBlock		    "Va/Vv1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Va/Vv"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "h_h2x"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v5"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -15; 80, 0]
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "h_h2x"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Va/Vv1"
		    SrcPort		    1
		    DstBlock		    "Mux9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "h_h2x1"
		    SrcPort		    1
		    DstBlock		    "Mux10"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Qp2a,v7"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [-5, 0; 0, -15; 75, 0]
		    DstBlock		    "Mux10"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux9"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux9"
		    SrcPort		    1
		    DstBlock		    "h_h2x1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux10"
		    SrcPort		    1
		    DstBlock		    "Qh2x,v1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "old fc coolant \ntemp. (C)"
		  Ports			  [2, 1]
		  Position		  [150, 30, 180, 90]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "old fc coolant \ntemp. (C)"
		    Location		    [-29, 578, 441, 784]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "fc on?"
		    Position		    [45, 40, 65, 60]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "veh spd"
		    Position		    [45, 100, 65, 120]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [395, 150, 451, 190]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [351, 607, 683, 747]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [167, 68]
		    Text		    "This block computes engine coolan"
"t temperature,\nassuming that it asymptotically approaches its maximum\ntempe"
"rature when the engine is on, and asymptotically\napproaches the ambient temp"
"erature when the engine\nis off.  Temperatue rise rate is assumed to be a fun"
"ction\nonly of current engine coolant temperature, and the fall\nrate is also"
" a function of vehicle speed and ambient temperature.\nThere is no dependence"
" on engine load or speed."
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [210, 32, 240, 158]
		    ShowName		    off
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "TEC"
		    Ports		    [1, 1]
		    Position		    [320, 85, 340, 105]
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "fc_i_init_tmp"
		    LimitOutput		    off
		    UpperSaturationLimit    "inf"
		    LowerSaturationLimit    "-inf"
		    ShowSaturationPort	    off
		    ShowStatePort	    off
		    AbsoluteTolerance	    "auto"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "compute\nengine dT/dt"
		    Position		    [270, 84, 300, 106]
		    Expr		    "1.1*u[1]*(-u[2]/218)*(95-u[4])+(1"
"-u[1])*u[3]*(u[4]-amb_tmp)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "gamma\n(takes v as input)"
		    Position		    [95, 99, 125, 121]
		    Expr		    "(-8.22e-5*u+8.09e-6*4-1.45e-4)*.4"
"5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "log(1-40/75)"
		    Position		    [145, 69, 190, 91]
		    Value		    "-0.7621"
		    VectorParams1D	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fc coolant \ntemp (C)"
		    Position		    [410, 85, 430, 105]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "TEC"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 80; -210, 0; 0, -35]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    Branch {
		    DstBlock		    "fc coolant \ntemp (C)"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "veh spd"
		    SrcPort		    1
		    DstBlock		    "gamma\n(takes v as input)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fc on?"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "compute\nengine dT/dt"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "log(1-40/75)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "gamma\n(takes v as input)"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "compute\nengine dT/dt"
		    SrcPort		    1
		    DstBlock		    "TEC"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc_old\n (C)"
		  Position		  [500, 50, 520, 70]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qfc r,h"
		  Position		  [505, 195, 525, 215]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tfc\n (C)"
		  Position		  [510, 245, 530, 265]
		  Port			  "3"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "fc ON?"
		  SrcPort		  1
		  DstBlock		  "old fc coolant \ntemp. (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "veh spd\n(m/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "fc mass heat flow"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "old fc coolant \ntemp. (C)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "old fc coolant \ntemp. (C)"
		  SrcPort		  1
		  DstBlock		  "Tfc_old\n (C)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Tfc\n (C)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115; -400, 0]
		    DstBlock		    "fc mass heat flow"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  4
		  DstBlock		  "1/mcp"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/mcp"
		  SrcPort		  1
		  DstBlock		  "Tm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Tcx"
		  SrcPort		  1
		  Points		  [165, 0; 0, 5]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "key ON?"
		  SrcPort		  1
		  DstBlock		  "fc coolant"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  3
		  DstBlock		  "1/Cx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Cx"
		  SrcPort		  1
		  DstBlock		  "Tcx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Qfc r,h"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tcx1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -55; -225, 0]
		    DstBlock		    "fc coolant"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Qc1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "fc coolant"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  2
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "fc coolant"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Qc1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Tcm"
		  SrcPort		  1
		  Points		  [0, 45]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Ci"
		  SrcPort		  1
		  DstBlock		  "Tcx1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qc1"
		  SrcPort		  1
		  DstBlock		  "1/Ci"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc mass heat flow"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Qc"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Qfc (W)"
		  SrcPort		  1
		  DstBlock		  "Qc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/"
		  SrcPort		  1
		  DstBlock		  "Tcm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Qc"
		  SrcPort		  1
		  DstBlock		  "1/"
		  DstPort		  1
		}
		Annotation {
		  Position		  [459, 172]
		  Text			  "c"
		}
		Annotation {
		  Position		  [459, 221]
		  Text			  "i"
		}
		Annotation {
		  Position		  [458, 270]
		  Text			  "x"
		}
		Annotation {
		  Position		  [461, 318]
		  Text			  "h"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "fc temp correct"
	      Ports		      [5, 2, 1]
	      Position		      [245, 42, 405, 168]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      on
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"fc temp correct"
		Location		[139, 355, 747, 820]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Coolant T (C)"
		  Position		  [105, 110, 125, 130]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [50, 145, 70, 165]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "HOT emis\n(g/s)"
		  Position		  [105, 180, 125, 200]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "T (Nm)"
		  Position		  [50, 346, 85, 364]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "w (rad/s)"
		  Position		  [90, 366, 125, 384]
		  Port			  "5"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [424, 30, 456, 55]
		  StatesWhenEnabling	  "reset"
		  ShowOutputPort	  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "=1: use map based\n=0: use constant"
" equation based"
		  Position		  [85, 24, 145, 56]
		  Value			  "fc_cold"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [425, 125, 455, 155]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [435, 190, 465, 220]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  Ports			  [3, 2, 1]
		  Position		  [210, 105, 350, 205]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    Location		    [54, 367, 669, 825]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [65, 175, 85, 195]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [105, 30, 125, 50]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [105, 325, 125, 345]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [459, 210, 491, 235]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Block NOTES"
		    Ports		    []
		    Position		    [440, 125, 496, 165]
		    BackgroundColor	    "green"
		    ShowName		    off
		    ShowPortLabels	    on
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskDisplay		    "disp('Block\\nNOTES')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Block NOTES"
		    Location		    [222, 357, 578, 433]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [177, 38]
		    Text		    "This block determines actual fuel"
" use and engine-out emissions\ngiven the fully hot values and the engine cool"
"ant temperature.\nThe correlations used here were developed at NREL using\nHo"
"t and Cold Engine data collected \nat Oak Ridge National Laboratory."
		    }
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "CO cold/hot"
		    Position		    [245, 174, 275, 196]
		    Expr		    "2.13*pow(u,4.26)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "HC cold/hot"
		    Position		    [245, 124, 275, 146]
		    Expr		    "8.05*pow(u,9.46)+1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [4, 1]
		    Position		    [320, 127, 330, 268]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "NOx cold/hot"
		    Position		    [245, 219, 275, 241]
		    Expr		    "0.51*pow(u,1.37)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "PM cold/hot"
		    Position		    [245, 264, 275, 286]
		    Expr		    "5.14*pow(u,17.04)+1"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [390, 311, 415, 344]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [365, 33, 395, 57]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [195, 174, 205, 196]
		    ShowName		    off
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "fuel cold/hot"
		    Position		    [245, 69, 275, 91]
		    Expr		    "0.1*pow(u,0.65)+1"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "lambda"
		    Position		    [145, 174, 175, 196]
		    Expr		    "(fc_tstat-u)/(fc_tstat-20)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [460, 35, 480, 55]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [475, 320, 495, 340]
		    NamePlacement	    "alternate"
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "lambda"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "CO cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel cold/hot"
		    SrcPort		    1
		    Points		    [70, 0]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [30, 0; 0, 120]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lambda"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "PM cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "NOx cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "fuel cold/hot"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "HC cold/hot"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "CO cold/hot"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "HC cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "NOx cold/hot"
		    SrcPort		    1
		    Points		    [20, 0; 0, -15]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "PM cold/hot"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  Ports			  [5, 2, 1]
		  Position		  [210, 284, 350, 386]
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  on
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    Location		    [244, 74, 899, 662]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Coolant T (C)"
		    Position		    [35, 25, 55, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT fuel use\n(g/s)"
		    Position		    [315, 65, 335, 85]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "HOT emis\n(g/s)"
		    Position		    [325, 520, 345, 540]
		    Port		    "3"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "T (Nm)"
		    Position		    [30, 101, 65, 119]
		    Port		    "4"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w (rad/s)"
		    Position		    [30, 146, 65, 164]
		    Port		    "5"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [564, 230, 596, 255]
		    StatesWhenEnabling	    "reset"
		    ShowOutputPort	    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    Position		    [105, 24, 135, 46]
		    Expr		    "(fc_tstat-u)/(fc_tstat-fc_cold_tm"
"p)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "CO factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 293, 220, 317]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_co_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "CO factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "HC factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 213, 220, 237]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_hc_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "HC factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [275, 129, 280, 176]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [260, 189, 265, 236]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [260, 269, 265, 316]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [260, 344, 265, 391]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux5"
		    Ports		    [2, 1]
		    Position		    [260, 419, 265, 466]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux6"
		    Ports		    [4, 1]
		    Position		    [455, 267, 465, 408]
		    Inputs		    "4"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NOx factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 368, 220, 392]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_nox_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "NOx factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "PM factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [190, 443, 220, 467]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_pm_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "PM factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [520, 331, 545, 364]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [520, 68, 550, 92]
		    Inputs		    "2"
		    Multiplication	    "Element-wise(.*)"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [90, 98, 105, 122]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_trq*fc_trq_scale)"
		    LowerLimit		    "min(fc_map_trq*fc_trq_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [90, 143, 105, 167]
		    ShowName		    off
		    UpperLimit		    "max(fc_map_spd*fc_spd_scale)"
		    LowerLimit		    "min(fc_map_spd*fc_spd_scale)"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    Position		    [325, 144, 355, 166]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    Position		    [325, 214, 355, 236]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    Position		    [325, 284, 355, 306]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    Position		    [325, 359, 355, 381]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    Position		    [320, 434, 350, 456]
		    Expr		    "1+(u[2]-1)*u[1]"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "fuel factor\ncold-to-hot"
		    Ports		    [2, 1]
		    Position		    [195, 147, 220, 178]
		    ShowPortLabels	    off
		    TreatAsAtomicUnit	    off
		    RTWSystemCode	    "Auto"
		    RTWFcnNameOpts	    "Auto"
		    RTWFileNameOpts	    "Auto"
		    MaskType		    "2-D Table Lookup"
		    MaskDescription	    "Two Dimensional Table Lookup\nThe"
" first input corresponds to X Index and the second input corresponds to the Y"
" Index"
		    MaskHelp		    "This block returns a linearly int"
"erpolated intersection from the table using the X index (which corresponds to"
" the rows of the table) and the Y index (which corresponds to the columns of "
"the table).  Extrapolation is used."
		    MaskPromptString	    "X Index|Y Index|Table"
		    MaskStyleString	    "edit,edit,edit"
		    MaskTunableValueString  "on,on,on"
		    MaskCallbackString	    "||"
		    MaskEnableString	    "on,on,on"
		    MaskVisibilityString    "on,on,on"
		    MaskToolTipString	    "on,on,on"
		    MaskInitialization	    "xindex=@1; yindex=@2; table=@3; s"
"ftab2chk(xindex,yindex,table);"
		    MaskDisplay		    "plot(-10,-10,110,110,[90,50,10],["
"90,40,30],[90,50,10],[50,26,20],[90,50,10],[22,13,10])"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "fc_map_spd*fc_spd_scale|fc_map_tr"
"q*fc_trq_scale|fc_fuel_map_c2h"
		    MaskVariableAliases	    ",,"
		    System {
		    Name		    "fuel factor\ncold-to-hot"
		    Location		    [316, 263, 598, 417]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x0"
		    Position		    [20, 25, 40, 45]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y0"
		    Position		    [20, 80, 40, 100]
		    Port		    "2"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [90, 46, 120, 79]
		    Inputs		    "2"
		    DisplayOption	    "none"
		    }
		    Block {
		    BlockType		    "S-Function"
		    Name		    "S-function"
		    Ports		    [1, 1]
		    Position		    [140, 52, 190, 78]
		    FunctionName	    "sftable2"
		    Parameters		    "xindex, yindex, table"
		    PortCounts		    "[]"
		    SFunctionModules	    "''"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "table out"
		    Position		    [215, 55, 235, 75]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "S-function"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x0"
		    SrcPort		    1
		    Points		    [20, 0; 0, 20]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "S-function"
		    SrcPort		    1
		    DstBlock		    "table out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y0"
		    SrcPort		    1
		    Points		    [20, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "limit to\ndata\nlimits"
		    Position		    [210, 23, 230, 47]
		    UpperLimit		    "1"
		    LowerLimit		    "0"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "fuel use\n(g/s)"
		    Position		    [585, 70, 605, 90]
		    Port		    "1"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EO emis\n(g/s)"
		    Position		    [590, 340, 610, 360]
		    Port		    "2"
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "HOT fuel use\n(g/s)"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    Points		    [55, 0; 0, 60]
		    Branch {
		    DstBlock		    "fuel factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "HC factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "CO factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "NOx factor\ncold-to-hot"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "PM factor\ncold-to-hot"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Coolant T (C)"
		    SrcPort		    1
		    DstBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "fuel factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HC factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "CO factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NOx factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "PM factor\ncold-to-hot"
		    SrcPort		    1
		    DstBlock		    "Mux5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux5"
		    SrcPort		    1
		    DstBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "fuel use\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "EO emis\n(g/s)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HOT emis\n(g/s)"
		    SrcPort		    1
		    Points		    [155, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "T (Nm)"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w (rad/s)"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux6"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "(Thot-Temp)\n--------------------"
"\n(Thot-Tcold)"
		    SrcPort		    1
		    DstBlock		    "limit to\ndata\nlimits"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "limit to\ndata\nlimits"
		    SrcPort		    1
		    Points		    [10, 0; 0, 105]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux5"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio"
		    SrcPort		    1
		    Points		    [15, 0; 0, -40; 125, 0; 0, -30]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 60]
		    DstBlock		    "Mux6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio2"
		    SrcPort		    1
		    Points		    [45, 0; 0, 25]
		    DstBlock		    "Mux6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio3"
		    SrcPort		    1
		    Points		    [50, 0; 0, -15]
		    DstBlock		    "Mux6"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "cold/hot\n=1+(factor-1)\n*Temp_ra"
"tio4"
		    SrcPort		    1
		    Points		    [60, 0; 0, -55]
		    DstBlock		    "Mux6"
		    DstPort		    4
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "fc_cold=0"
		  Ports			  [1, 1]
		  Position		  [240, 24, 270, 56]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "fuel use\n(g/s)"
		  Position		  [495, 130, 515, 150]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "EO emis\n(g/s)"
		  Position		  [495, 195, 515, 215]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "w (rad/s)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "T (Nm)"
		  SrcPort		  1
		  DstBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "EO emis\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "fuel use\n(g/s)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  2
		  Points		  [65, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "fc temp correct\nVariable Correctio"
"n Factors\n(Map Based)"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "fc_cold=0"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [95, 0; 0, 100]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "fc temp correct\nConstant Correctio"
"n Factors\n(Equation Based)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HOT emis\n(g/s)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 145]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "HOT fuel use\n(g/s)"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    Points		    [0, 160]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Coolant T (C)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "fc temp correct\nConstant Correct"
"ion Factors\n(Equation Based)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "=1: use map based\n=0: use constant"
" equation based"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 215; 100, 0]
		    DstBlock		    "fc temp correct\nVariable Correct"
"ion Factors\n(Map Based)"
		    DstPort		    enable
		  }
		  Branch {
		    DstBlock		    "fc_cold=0"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "nn thermal calcs"
	      Ports		      [4, 3]
	      Position		      [480, 494, 630, 551]
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"nn thermal calcs"
		Location		[108, 268, 606, 568]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "gpsCO2"
		  Position		  [15, 15, 35, 35]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "pwr (W)"
		  Position		  [65, 119, 85, 131]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "ex gas flow (g/s)"
		  Position		  [65, 79, 85, 91]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "ex gas tmp"
		  Position		  [65, 94, 85, 106]
		  Port			  "4"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Gain
		  Name			  "(g/s CO2) to\n(g/s fuel)"
		  Position		  [85, 12, 120, 38]
		  Gain			  "fc_CO2_to_FUELgps"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [170, 86, 195, 104]
		  ShowName		  off
		  Expr			  "(u(1)/1000)*ex_gas_cp*(u(2) - amb_t"
"mp)"
		}
		Block {
		  BlockType		  From
		  Name			  "From"
		  Position		  [15, 155, 105, 175]
		  ShowName		  off
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "fuel_gps"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto"
		  Position		  [150, 12, 250, 38]
		  ShowName		  off
		  GotoTag		  "fuel_gps"
		  TagVisibility		  "local"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [215, 90, 240, 110]
		  ShowName		  off
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [150, 76, 155, 109]
		  ShowName		  off
		  FontName		  "Arial"
		  Inputs		  "2"
		  DisplayOption		  "none"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [2, 1]
		  Position		  [260, 89, 270, 136]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [180, 116, 190, 149]
		  ShowName		  off
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Gain
		  Name			  "lhv"
		  Position		  [135, 130, 155, 150]
		  Gain			  "fc_fuel_lhv"
		  Multiplication	  "Element-wise(K.*u)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "fc heat\n(W)"
		  Position		  [300, 105, 320, 125]
		  Port			  "1"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "HOT fuel use\n(g/s)"
		  Position		  [300, 155, 320, 175]
		  Port			  "2"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ex heat\n(W)"
		  Position		  [300, 60, 320, 80]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  OutputWhenDisabled	  "reset"
		  InitialOutput		  "eps"
		}
		Line {
		  SrcBlock		  "lhv"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "lhv"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "HOT fuel use\n(g/s)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [45, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "ex heat\n(W)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "fc heat\n(W)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "Fcn3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gpsCO2"
		  SrcPort		  1
		  DstBlock		  "(g/s CO2) to\n(g/s fuel)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "(g/s CO2) to\n(g/s fuel)"
		  SrcPort		  1
		  DstBlock		  "Goto"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "pwr (W)"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ex gas tmp"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "ex gas flow (g/s)"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "radps to rpm"
	      Position		      [90, 252, 135, 308]
	      Gain		      "30/pi"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [760, 100, 780, 120]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [760, 220, 780, 240]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [775, 370, 795, 390]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "From <vc> "
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      2
	      Points		      [5, 0]
	      Branch {
		DstBlock		"To Workspace8"
		DstPort			1
	      }
	      Branch {
		Points			[0, 25]
		DstBlock		"Goto20"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Selector3"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"fc temp correct"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  DstBlock		  "To Workspace9"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Goto"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Mux5"
	      SrcPort		      1
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Points			[0, 0]
		DstBlock		"radps to rpm"
		DstPort			1
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"Goto7"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "radps to rpm"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From6"
	      SrcPort		      1
	      DstBlock		      "du/dt at 5 seconds\nTorque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From7"
	      SrcPort		      1
	      DstBlock		      "du/dt at 10 seconds\nTorque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From8"
	      SrcPort		      1
	      DstBlock		      "du/dt at 5 seconds\nSpeed"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From9"
	      SrcPort		      1
	      DstBlock		      "du/dt at 10 seconds\nSpeed"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 5 seconds\nTorque"
	      SrcPort		      1
	      DstBlock		      "Goto4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 5 seconds\nSpeed"
	      SrcPort		      1
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 10 seconds\nSpeed"
	      SrcPort		      1
	      DstBlock		      "Goto5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "du/dt at 10 seconds\nTorque"
	      SrcPort		      1
	      DstBlock		      "Goto6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "S-Function"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "S-Function"
	      SrcPort		      1
	      DstBlock		      "Demux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "Goto9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "Goto10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux1"
	      SrcPort		      3
	      DstBlock		      "Goto8"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)1"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)2"
	      SrcPort		      1
	      DstBlock		      "Selector3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "To Workspace17"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "To Workspace13"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      2
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fc temp"
	      SrcPort		      3
	      Points		      [0, 0; 60, 0]
	      Branch {
		DstBlock		"To Workspace14"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Goto12"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 2"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From <vc> 3"
	      SrcPort		      1
	      DstBlock		      "fc temp"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)6"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      5
	      DstBlock		      "Goto14"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      4
	      DstBlock		      "Goto15"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      6
	      DstBlock		      "Goto13"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From11"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From10"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps "
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <vc> 1"
	      SrcPort		      1
	      DstBlock		      "HOT engine maps "
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      2
	      DstBlock		      "Terminator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)7"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)3"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		DstBlock		"To Workspace10"
		DstPort			1
	      }
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)4"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		DstBlock		"To Workspace11"
		DstPort			1
	      }
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)5"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		DstBlock		"To Workspace18"
		DstPort			1
	      }
	      Branch {
		Points			[0, -15]
		DstBlock		"Mux4"
		DstPort			5
	      }
	    }
	    Line {
	      SrcBlock		      "Mux4"
	      SrcPort		      1
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From4"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From5"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From2"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "From3"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "From13"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From12"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Goto16"
		DstPort			1
	      }
	      Branch {
		Points			[0, 30]
		DstBlock		"To Workspace1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      3
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "HC"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "PM"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      4
	      DstBlock		      "Mux1"
	      DstPort		      4
	    }
	    Line {
	      Name		      "CO"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Terminator2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "NOx"
	      Labels		      [0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Terminator3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From14"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From15"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      1
	      DstBlock		      "Terminator4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HOT engine maps "
	      SrcPort		      7
	      DstBlock		      "Terminator5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      3
	      Points		      [10, 0; 0, 10]
	      DstBlock		      "To Workspace12"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      1
	      Points		      [10, 0; 0, -30]
	      Branch {
		Points			[0, -20]
		DstBlock		"Goto11"
		DstPort			1
	      }
	      Branch {
		DstBlock		"To Workspace16"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "nn thermal calcs"
	      SrcPort		      2
	      DstBlock		      "Goto17"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <veh>\n(m/s)8"
	      SrcPort		      1
	      DstBlock		      "fc temp correct"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fc temp correct"
	      SrcPort		      1
	      DstBlock		      "Goto18"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "(g/s) to\n(gal/s)"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 4"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		DstBlock		"(g/s) to\n(gal/s)"
		DstPort			1
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"To Workspace19"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From16"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From17"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Goto19"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From19"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From18"
	      SrcPort		      1
	      DstBlock		      "nn thermal calcs"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From21"
	      SrcPort		      1
	      Points		      [0, -5]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "From20"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "nn thermal calcs"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "From <vc> 5"
	      SrcPort		      1
	      DstBlock		      "Mux4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc> 6"
	      SrcPort		      1
	      DstBlock		      "Mux4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From24"
	      SrcPort		      1
	      DstBlock		      "To Workspace2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From22"
	      SrcPort		      1
	      DstBlock		      "To Workspace3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From23"
	      SrcPort		      1
	      DstBlock		      "To Workspace4"
	      DstPort		      1
	    }
	    Annotation {
	      Position		      [354, 608]
	      Text		      "below values are \"hot\" emissions\n(un"
"its g/s)"
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel\nconverter\n <fc>"
      Ports		      [1, 3]
      Position		      [45, 70, 115, 120]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_fc.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"fuel\nconverter\n <fc>"
	Location		[257, 183, 1238, 601]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	282
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  Position		  [40, 60, 60, 80]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>"
	  Position		  [485, 245, 565, 265]
	  GotoTag		  "fc_spd_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>1"
	  Position		  [590, 245, 670, 265]
	  GotoTag		  "fc_trq_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [710, 250, 766, 290]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [105, 39, 110, 101]
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [30, 212, 115, 238]
	  Orientation		  "left"
	  GotoTag		  "fc_spd_out_r"
	  TagVisibility		  "local"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto1"
	  Position		  [790, 14, 850, 36]
	  GotoTag		  "fuel"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto2"
	  Position		  [410, 150, 485, 170]
	  ShowName		  off
	  GotoTag		  "fc_spd_est"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto3"
	  Position		  [385, 15, 460, 35]
	  ShowName		  off
	  GotoTag		  "fc_brake_trq"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [715, 59, 720, 121]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [605, 201, 610, 234]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [25, 148, 110, 162]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_trq_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [30, 179, 110, 191]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_spd_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace7"
	  Position		  [390, 37, 450, 53]
	  ShowName		  off
	  VariableName		  "fc_brake_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace9"
	  Position		  [425, 122, 485, 138]
	  ShowName		  off
	  VariableName		  "fc_spd_est"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "engine controller\ninterface"
	  Ports			  [1, 1]
	  Position		  [150, 63, 275, 107]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine controller\ninterface"
	    Location		    [86, 100, 861, 768]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "fc_spd_out_r"
	      Position		      [25, 103, 55, 117]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [180, 65, 275, 95]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "spd_command"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [80, 95, 165, 125]
	      GotoTag		      "fc_spd_out_r"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "spd command"
	      Position		      [305, 73, 335, 87]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "fc_spd_out_r"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "spd command"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "engine speed\nestimator"
	  Ports			  [1, 1]
	  Position		  [320, 113, 350, 147]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine speed\nestimator"
	    Location		    [182, 89, 957, 757]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "70"
	    Block {
	      BlockType		      Inport
	      Name		      "spd\ncommand"
	      Position		      [15, 38, 45, 52]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "<= max spd"
	      Position		      [780, 100, 810, 130]
	      UpperLimit	      "max(fc_map_spd)*fc_spd_scale"
	      LowerLimit	      "-inf"
	      LinearizeAsGain	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [985, 600, 1041, 640]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[63, 111, 838, 779]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [202, 116]
		  Text			  "If the clutch is engaged and the tr"
"ace was missed in the previous time step:\nThe estimated engine speed for the"
" current time step is the actual engine\nspeed from the previous time step.\n"
"\nIf the clutch is disengaged and the speed is commanded to increase (spin up"
"):\nThe engine speed is the lesser of the commanded speed and the maximum\nsp"
"eed attainable given the engine capability.\n\nIf the clutch is disengaged at"
" the speed is commanded to decrease (spin down):\nThe engine speed is compute"
"d by integrating with respect to time the ratio of\n closed-throttle torque t"
"o engine inertia.\n\nOtherwise:\nThe engine speed is equal to the speed comma"
"nd, but no greater than the\nengine's maximum speed nor less than the engine'"
"s idle speed (if the engine is on.)"
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [355, 210, 375, 230]
	      Orientation	      "left"
	      Value		      "eps"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [505, 135, 525, 155]
	      Orientation	      "left"
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [420, 330, 440, 350]
	      Orientation	      "left"
	      Value		      "2"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [315, 380, 335, 400]
	      Value		      "2"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [860, 160, 930, 180]
	      Value		      "vc_idle_spd"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [420, 580, 440, 600]
	      Orientation	      "left"
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [55, 496, 170, 514]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <cyc>"
	      Position		      [220, 274, 310, 306]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "cyc_mph_r"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [220, 359, 310, 391]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [860, 245, 930, 265]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <veh>"
	      Position		      [220, 69, 275, 101]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "mpha"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <wh>/\ntire slip model (m/s)"
	      Position		      [220, 154, 310, 186]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "veh_spd_a_rec"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [340, 67, 380, 103]
	      Gain		      "0.447"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>1"
	      Position		      [945, 29, 1030, 51]
	      GotoTag		      "fc_spd_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [565, 287, 595, 318]
	      Operator		      "AND"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator1"
	      Ports		      [2, 1]
	      Position		      [890, 22, 920, 53]
	      Operator		      "AND"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator2"
	      Ports		      [1, 1]
	      Position		      [650, 164, 680, 196]
	      Operator		      "NOT"
	      Inputs		      "1"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      Position		      [565, 80, 595, 110]
	      X0		      "cyc_mph(1,2)*0.447/wh_radius*fd_ratio*g"
"b_ratio(gb_num_init)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [500, 280, 530, 310]
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [840, 45, 870, 75]
	      X0		      "0"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory3"
	      Position		      [890, 605, 920, 635]
	      Orientation	      "left"
	      X0		      "cyc_mph(1,2)*0.447/wh_radius*fd_ratio*m"
"ax(gb_ratio)"
	      InheritSampleTime	      off
	      RTWStateStorageClass    "Auto"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax"
	      Ports		      [2, 1]
	      Position		      [215, 422, 245, 453]
	      Function		      "min"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax1"
	      Ports		      [2, 1]
	      Position		      [880, 107, 910, 138]
	      Function		      "max"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [3, 1]
	      Position		      [405, 69, 435, 101]
	      Inputs		      "**/"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [545, 556, 565, 574]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      Ports		      [2, 1]
	      Position		      [880, 198, 910, 227]
	      Orientation	      "left"
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational"
	      Position		      [415, 277, 445, 308]
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [380, 367, 410, 398]
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [780, 12, 810, 43]
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator2"
	      Position		      [75, 272, 105, 303]
	      Operator		      ">="
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [350, 162, 380, 193]
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [350, 267, 380, 298]
	      IconShape		      "rectangular"
	      Inputs		      "-+"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [380, 442, 410, 473]
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [590, 560, 610, 580]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [145, 427, 175, 458]
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [500, 80, 530, 110]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [650, 90, 680, 120]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [715, 100, 745, 130]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch:\nmap torque"
	      Position		      [285, 435, 315, 465]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "T closed\nthrottle"
	      Position		      [75, 528, 105, 552]
	      InputValues	      "fc_map_spd*fc_spd_scale"
	      OutputValues	      "fc_ct_trq*fc_trq_scale"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "T_max"
	      Position		      [75, 338, 105, 362]
	      InputValues	      "fc_map_spd*fc_spd_scale"
	      OutputValues	      "fc_max_trq*fc_trq_scale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "alpha"
	      Position		      [470, 436, 515, 484]
	      Gain		      "1/(fc_inertia+eps)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "clutch\ndisengaged"
	      Position		      [415, 517, 445, 548]
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dt"
	      Ports		      [0, 1]
	      Position		      [475, 555, 505, 585]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"dt"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [65, 30, 85, 50]
		  FontName		  "Arial"
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [125, 55, 160, 75]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [205, 35, 225, 55]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [255, 35, 275, 55]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  Points		  [10, 0; 0, -15]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "out_1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "effect of inertia\n(Nm)"
	      Ports		      [2, 1]
	      Position		      [75, 386, 105, 424]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"effect of inertia\n(Nm)"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd spd\n(rad/s)"
		  Position		  [60, 80, 80, 100]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "prev spd"
		  Position		  [60, 130, 80, 150]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [40, 175, 60, 195]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 19, 180, 41]
		  FontName		  "Arial"
		  Value			  "fc_inertia"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [95, 210, 130, 230]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [285, 77, 315, 113]
		  Inputs		  "**/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [115, 85, 135, 105]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [160, 180, 180, 200]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "(Nm)"
		  Position		  [385, 85, 405, 105]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [40, 0; 0, -85]
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "req'd spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev spd"
		  SrcPort		  1
		  Points		  [5, 0; 0, -40]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0; 0, -25]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [40, 0; 0, 55]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "just started\nspin-down/spin-up"
	      Ports		      [1, 1]
	      Position		      [555, 468, 585, 502]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"just started\nspin-down/spin-up"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "state"
		  Position		  [15, 20, 35, 40]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [220, 23, 250, 47]
		  FontName		  "Arial"
		  Operator		  "AND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [165, 83, 195, 107]
		  FontName		  "Arial"
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [110, 85, 145, 105]
		  FontName		  "Arial"
		  X0			  "1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trigger"
		  Position		  [295, 25, 315, 45]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "trigger"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "state"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "no-lag\nReset Integrator"
	      Ports		      [3, 1]
	      Position		      [635, 446, 685, 524]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "No-lag Reset Integrator"
	      MaskDescription	      "No-lag Reset Integrator"
	      MaskHelp		      "Integrates first input using Euler tech"
"nique.\\nAt the time step that input 2 <> zero,\\noutput is reset to input 3."
	      MaskPromptString	      "Initial Value"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "initval=@1;"
	      MaskDisplay	      "disp('1/s\\nw/ reset\\nno lag')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "vc_idle_spd"
	      System {
		Name			"no-lag\nReset Integrator"
		Location		[681, 688, 1203, 952]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "in_1"
		  Position		  [60, 100, 80, 120]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "in_2"
		  Position		  [60, 140, 80, 160]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "in_3"
		  Position		  [45, 185, 65, 205]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [105, 155, 125, 175]
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [340, 55, 375, 75]
		  Orientation		  "left"
		  FontName		  "Arial"
		  X0			  "initval"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [160, 96, 180, 114]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [230, 90, 250, 110]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [290, 139, 320, 171]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "dt"
		  Ports			  [0, 1]
		  Position		  [112, 50, 138, 80]
		  Orientation		  "down"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "in_2==0"
		  Position		  [160, 143, 190, 167]
		  Operator		  "=="
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [455, 145, 475, 165]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "in_3"
		  SrcPort		  1
		  Points		  [195, 0; 0, -30]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "in_2"
		  SrcPort		  1
		  DstBlock		  "in_2==0"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "in_1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "dt"
		  SrcPort		  1
		  Points		  [0, 15]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-130, 0; 0, 30]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [10, 0; 0, 45]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [85, 0]
		  Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "in_2==0"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "in_2==0"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [990, 118, 1020, 132]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "no-lag\nReset Integrator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "just started\nspin-down/spin-up"
	      SrcPort		      1
	      DstBlock		      "no-lag\nReset Integrator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "no-lag\nReset Integrator"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [30, 0; 0, -200]
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator2"
	      SrcPort		      1
	      Points		      [5, 0; 0, -65]
	      DstBlock		      "Switch2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "spd\ncommand"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[330, 0]
		Branch {
		  Points		  [0, 30]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Branch {
		  Points		  [225, 0; 0, 70]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, 235]
		Branch {
		  Points		  [0, 115]
		  DstBlock		  "effect of inertia\n(Nm)"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Relational\nOperator2"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "effect of inertia\n(Nm)"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "MinMax"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "T_max"
	      SrcPort		      1
	      Points		      [70, 0; 0, 80]
	      DstBlock		      "MinMax"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "MinMax"
	      SrcPort		      1
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T closed\nthrottle"
	      SrcPort		      1
	      Points		      [155, 0; 0, -80]
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator2"
	      SrcPort		      1
	      Points		      [80, 0; 0, 120; 65, 0; 0, 40]
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch:\nmap torque"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Memory2"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Logical\nOperator1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator1"
	      SrcPort		      1
	      DstBlock		      "Goto <sdo>1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, -95]
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"<= max spd"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      Points		      [-25, 0; 0, -85]
	      DstBlock		      "MinMax1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "MinMax1"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		Points			[0, 495]
		DstBlock		"Memory3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Out1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      Points		      [0, 35]
	      DstBlock		      "Product2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      Points		      [0, -35]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "<= max spd"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"MinMax1"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20; -75, 0; 0, -60]
		DstBlock		"Relational\nOperator1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Memory3"
	      SrcPort		      1
	      Points		      [-315, 0]
	      Branch {
		Points			[-525, 0; 0, -80]
		Branch {
		  DstBlock		  "T closed\nthrottle"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -125]
		  Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -65]
		    Branch {
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		    }
		  }
		}
	      }
	      Branch {
		Points			[0, -45]
		DstBlock		"Sum3"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      Points		      [40, 0]
	      Branch {
		Points			[0, 150]
		DstBlock		"clutch\ndisengaged"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "clutch\ndisengaged"
	      SrcPort		      1
	      Points		      [5, 0; 0, -50]
	      Branch {
		DstBlock		"just started\nspin-down/spin-up"
		DstPort			1
	      }
	      Branch {
		Points			[0, -305]
		DstBlock		"Logical\nOperator2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "clutch\ndisengaged"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "alpha"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"no-lag\nReset Integrator"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Product1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dt"
	      SrcPort		      1
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "alpha"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [135, 0]
	      DstBlock		      "Logical\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Product"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational"
	      SrcPort		      1
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Relational"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Relational"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <veh>"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[0, 190]
		DstBlock		"Sum1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Gain"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "From <cyc>"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "From <wh>/\ntire slip model (m/s)"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -25; 155, 0; 0, -50]
		DstBlock		"Switch"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Sum"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, -25; -45, 0]
		DstBlock		"Sum4"
		DstPort			2
	      }
	      Branch {
		Points			[190, 0]
		DstBlock		"Sum2"
		DstPort			2
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "engine torque"
	  Ports			  [3, 2]
	  Position		  [315, 48, 345, 82]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine torque"
	    Location		    [295, 56, 881, 536]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "76"
	    Block {
	      BlockType		      Inport
	      Name		      "fc_trq_out_r"
	      Position		      [40, 48, 70, 62]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "spd command"
	      Position		      [40, 93, 70, 107]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "engine spd"
	      Position		      [40, 138, 70, 152]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Block NOTES"
	      Ports		      []
	      Position		      [710, 460, 766, 500]
	      BackgroundColor	      "green"
	      ShowName		      off
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskDisplay	      "disp('Block\\nNOTES')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Block NOTES"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Annotation {
		  Position		  [167, 81]
		  Text			  "If the engine is not spinning down "
"with the clutch disengaged:\n1.  Engine brake (aka map) torque is given by th"
"e required shaft\ntorque plus enough torque to accelerate the engine's rotati"
"ng\nparts as commanded and torque to power the accessories, \nsubject to the "
"engine's torque limits at the current speed.\n2.  Shaft torque is engine brak"
"e torque less the effects of inertia\nand accessories.\n\nIf the engine is sp"
"inning down:\n1.  Engine brake/map torque is the closed-throttle torque.\n2. "
" Shaft torque is zero."
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [595, 215, 615, 235]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [120, 455, 140, 475]
	      Value		      "1"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>"
	      Position		      [35, 437, 105, 463]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "clutch_state"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto <sdo>"
	      Position		      [440, 18, 520, 42]
	      GotoTag		      "fc_trq_limited"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [255, 382, 285, 413]
	      Operator		      "OR"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax"
	      Ports		      [2, 1]
	      Position		      [385, 77, 415, 108]
	      Function		      "min"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax1"
	      Ports		      [2, 1]
	      Position		      [440, 77, 470, 108]
	      Function		      "max"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [260, 40, 280, 120]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [550, 105, 570, 185]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [315, 75, 345, 105]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [640, 140, 670, 170]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "T_closed\nthrottle"
	      Ports		      [1, 1]
	      Position		      [185, 286, 215, 314]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"T_closed\nthrottle"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w_APU"
		  Position		  [15, 45, 35, 65]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [80, 46, 110, 64]
		  FontName		  "Arial"
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "min(fc_map_spd)*fc_spd_scale"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "ctt lookup"
		  Position		  [150, 43, 180, 67]
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_ct_trq*fc_trq_scale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_closed\nthrottle"
		  Position		  [215, 45, 235, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "ctt lookup"
		  SrcPort		  1
		  DstBlock		  "T_closed\nthrottle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "ctt lookup"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_APU"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "T_max"
	      Ports		      [1, 1]
	      Position		      [185, 230, 215, 260]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"T_max"
		Location		[224, 74, 583, 244]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w_APU"
		  Position		  [20, 45, 40, 65]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto Fuzzy controller <cs>"
		  Position		  [175, 95, 255, 115]
		  GotoTag		  "engine_rpm"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [85, 46, 115, 64]
		  FontName		  "Arial"
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "min(fc_map_spd)*fc_spd_scale"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "max_torque lookup"
		  Position		  [180, 43, 210, 67]
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_max"
		  Position		  [260, 45, 280, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "w_APU"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "max_torque lookup"
		  SrcPort		  1
		  DstBlock		  "T_max"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Goto Fuzzy controller <cs>"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "clutch not\ndisengaged"
	      Position		      [185, 442, 215, 473]
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "effect of inertia\n(Nm)"
	      Ports		      [1, 1]
	      Position		      [185, 91, 215, 129]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"effect of inertia\n(Nm)"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "engine spd\n(rad/s)"
		  Position		  [30, 15, 50, 35]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  ">=0"
		  Position		  [310, 50, 340, 80]
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [605, 320, 661, 360]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [821, 665, 1231, 785]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [207, 56]
		    Text		    "Torque required to accelerate the"
" engine inertia is taken from the engine\nacceleration, and is assumed to be "
"no less than zero if the trace was missed\nat all on the previous time step."
"\n\nThe torque required to accelerate the engine's inertia is never assumed t"
"o\nbe more than the product of the engine's maximum torque and the engine's\n"
"contribution to the total vehicle inertia."
		    }
		  }
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [310, 265, 330, 285]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [485, 314, 545, 336]
		  Orientation		  "left"
		  FontName		  "Arial"
		  Value			  "fc_inertia"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [360, 157, 510, 183]
		  Value			  "max(fc_max_trq)*fc_trq_scale"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [195, 275, 215, 295]
		  Orientation		  "left"
		  Value			  "0.01"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  From
		  Name			  "From <cyc>"
		  Position		  [25, 219, 115, 251]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "cyc_mph_r"
		}
		Block {
		  BlockType		  From
		  Name			  "From <veh>"
		  Position		  [25, 174, 80, 206]
		  CloseFcn		  "tagdialog Close"
		  GotoTag		  "mpha"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [365, 300, 400, 320]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [95, 35, 120, 65]
		  X0			  "vc_idle_spd*vc_key_on(1,2)"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory2"
		  Position		  [245, 230, 280, 250]
		  FontName		  "Arial"
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [585, 257, 615, 288]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [535, 147, 565, 178]
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [490, 262, 520, 298]
		  Inputs		  "*/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational"
		  Position		  [190, 222, 220, 253]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [150, 20, 170, 40]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [430, 270, 450, 290]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [135, 212, 165, 243]
		  IconShape		  "rectangular"
		  Inputs		  "-+"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [375, 225, 405, 255]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  Reference
		  Name			  "engine inertia as a function of tot"
"al\nvehicle inertia (generous approximation)"
		  Ports			  [0, 1]
		  Position		  [505, 70, 535, 120]
		  Orientation		  "down"
		  BackgroundColor	  "darkGreen"
		  SourceBlock		  "lib_fuel_converter/Submodel/engine "
"inertia as a function of total\nvehicle inertia (generous approximation)"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "(Nm)"
		  Position		  [635, 265, 655, 285]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [120, 0; 0, 35]
		  Branch {
		    DstBlock		    ">=0"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 185]
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "engine inertia as a function of tot"
"al\nvehicle inertia (generous approximation)"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "From <cyc>"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "From <veh>"
		  SrcPort		  1
		  Points		  [25, 0; 0, 30]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [55, 0; 0, 30]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0; 0, -25]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [10, 0; 0, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Memory2"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Relational"
		  SrcPort		  1
		  DstBlock		  "Memory2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ">=0"
		  SrcPort		  1
		  Points		  [5, 0; 0, 165]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Relational"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Relational"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "engine spd\n(rad/s)"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "engine commanded\nnot to decelerate"
	      Position		      [185, 372, 215, 403]
	      Operator		      "<="
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "limited"
	      Position		      [385, 12, 415, 43]
	      Operator		      "~="
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "map torque (Nm)"
	      Position		      [700, 88, 730, 102]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "torque to shaft (Nm)"
	      Position		      [705, 148, 735, 162]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "spd command"
	      SrcPort		      1
	      Points		      [25, 0; 0, 295]
	      DstBlock		      "engine commanded\nnot to decelerate"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "effect of inertia\n(Nm)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 55]
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		Labels			[1, 0]
		Points			[0, -10]
		DstBlock		"Sum"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "fc_trq_out_r"
	      SrcPort		      1
	      Points		      [170, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "engine spd"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[0, -35; 55, 0]
		Branch {
		  DstBlock		  "effect of inertia\n(Nm)"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 270]
		  DstBlock		  "engine commanded\nnot to decelerate"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 100]
		Branch {
		  DstBlock		  "T_max"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 55]
		  DstBlock		  "T_closed\nthrottle"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "clutch not\ndisengaged"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Logical\nOperator"
		DstPort			2
	      }
	      Branch {
		Points			[340, 0; 0, -305]
		DstBlock		"Switch1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, -70]
		DstBlock		"limited"
		DstPort			1
	      }
	      Branch {
		Points			[15, 0]
		DstBlock		"MinMax"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "MinMax1"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[40, 0]
		Branch {
		  Points		  [0, 30]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "map torque (Nm)"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, -30; -125, 0; 0, -30]
		DstBlock		"limited"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "T_closed\nthrottle"
	      SrcPort		      1
	      Points		      [80, 0]
	      Branch {
		Points			[125, 0]
		DstBlock		"MinMax1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Switch"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "T_max"
	      SrcPort		      1
	      Points		      [150, 0]
	      DstBlock		      "MinMax"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "MinMax"
	      SrcPort		      1
	      Points		      [0, -10]
	      DstBlock		      "MinMax1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "limited"
	      SrcPort		      1
	      DstBlock		      "Goto <sdo>"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [5, 0; 0, -310]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "engine commanded\nnot to decelerate"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      DstBlock		      "clutch not\ndisengaged"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From <vc>"
	      SrcPort		      1
	      DstBlock		      "clutch not\ndisengaged"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      DstBlock		      "torque to shaft (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Configurable Subsystem"
	  Ports			  [2, 3]
	  Position		  [520, 31, 685, 119]
	  BackgroundColor	  "lightBlue"
	  AttributesFormatString  "%<BlockChoice>"
	  ShowPortLabels	  on
	  BlockChoice		  "fuel use and EO emis"
	  TemplateBlock		  "lib_fuel_converter/configurable subsystems/"
"fuel use and EO emis Configurable Subsystem"
	  MemberBlocks		  "fuel use and EO emis,fuel use and EO emis N"
"eural Network Model"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis Configurable Subsyst"
"em"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "fuel use and EO emis"
	      Ports		      [2, 3]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "lightBlue"
	      SourceBlock	      "lib_fuel_converter/configurable subsyst"
"ems/fuel use and EO emis"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -20]
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      2
	      Points		      [20, 0; 0, 30]
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      3
	      Points		      [10, 0; 0, 55]
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [670, 248, 702, 287]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel use"
	  Position		  [750, 35, 770, 55]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "EO emis\ninfo"
	  Position		  [750, 80, 770, 100]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  Position		  [710, 210, 730, 230]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "engine torque"
	  SrcPort		  2
	  Points		  [20, 0; 0, 135; 200, 0]
	  Branch {
	    Points		    [0, 45]
	    DstBlock		    "<sdo>1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "engine torque"
	  SrcPort		  1
	  Points		  [0, -5; 20, 0]
	  Branch {
	    DstBlock		    "fuel use and EO emis Configurable Subsyst"
"em"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -10]
	    Branch {
	      DstBlock		      "To Workspace7"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  3
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  2
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "EO emis\ninfo"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "engine controller\ninterface"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, -20]
	    DstBlock		    "engine torque"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 45]
	    Branch {
	      DstBlock		      "engine speed\nestimator"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 95; 175, 0]
	      Branch {
		Points			[0, 30]
		DstBlock		"<sdo>"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux1"
		DstPort			2
	      }
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    DstBlock		    "engine torque"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [20, 0]
	  Branch {
	    DstBlock		    "engine controller\ninterface"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 100]
	    Branch {
	      DstBlock		      "To Workspace3"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 40]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  1
	  Points		  [35, 0]
	  Branch {
	    DstBlock		    "fuel use"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -20]
	    DstBlock		    "Goto1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "engine speed\nestimator"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    Points		    [0, -30]
	    Branch {
	      Points		      [-60, 0]
	      DstBlock		      "engine torque"
	      DstPort		      3
	    }
	    Branch {
	      DstBlock		      "fuel use and EO emis Configurable Subsy"
"stem"
	      DstPort		      2
	    }
	  }
	  Branch {
	    Points		    [30, 0]
	    Branch {
	      DstBlock		      "To Workspace9"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 30]
	      DstBlock		      "Goto2"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel\nconverter\n <fc> for series"
      Ports		      [1, 3]
      Position		      [325, 68, 380, 112]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_fc.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"fuel\nconverter\n <fc> for series"
	Location		[214, 74, 955, 762]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"81"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  Position		  [40, 100, 60, 120]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>"
	  Position		  [635, 325, 715, 345]
	  GotoTag		  "fc_spd_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>1"
	  Position		  [635, 285, 715, 305]
	  GotoTag		  "fc_trq_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>2"
	  Position		  [480, 55, 560, 75]
	  ShowName		  off
	  GotoTag		  "fc_spd_est"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [780, 285, 836, 325]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  Position		  [250, 185, 270, 205]
	  Value			  "1"
	  VectorParams1D	  on
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [105, 79, 110, 141]
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 3]
	  Position		  [505, 138, 515, 202]
	  ShowName		  off
	  Outputs		  "3"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  From
	  Name			  "From <vc>1"
	  Position		  [250, 250, 320, 270]
	  Orientation		  "up"
	  NamePlacement		  "alternate"
	  CloseFcn		  "tagdialog Close"
	  GotoTag		  "clutch_state"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [30, 252, 115, 278]
	  Orientation		  "left"
	  GotoTag		  "fc_spd_out_r"
	  TagVisibility		  "local"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto Fuzzy controller <cs>"
	  Position		  [610, 25, 690, 45]
	  GotoTag		  "engine_rpm"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto1"
	  Position		  [845, 49, 905, 71]
	  GotoTag		  "fuel"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto3"
	  Position		  [475, 111, 535, 129]
	  Orientation		  "left"
	  ShowName		  off
	  GotoTag		  "fc_brake_trq"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  Ports			  [1, 1]
	  Position		  [380, 274, 410, 306]
	  Operator		  "NOT"
	  Inputs		  "1"
	}
	Block {
	  BlockType		  Memory
	  Name			  "Memory"
	  Position		  [455, 252, 485, 278]
	  Orientation		  "left"
	  X0			  "vc_idle_spd"
	  InheritSampleTime	  off
	  RTWStateStorageClass	  "Auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [790, 99, 795, 161]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [640, 241, 645, 274]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Selector
	  Name			  "Selector"
	  Ports			  [1, 1]
	  Position		  [435, 48, 460, 82]
	  ShowName		  off
	  InputType		  "Vector"
	  ElementSrc		  "Internal"
	  Elements		  "[2]"
	  RowSrc		  "Internal"
	  Rows			  "1"
	  ColumnSrc		  "Internal"
	  Columns		  "1"
	  InputPortWidth	  "3"
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  Position		  [460, 118, 490, 222]
	  Threshold		  "eps"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [25, 188, 110, 202]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_trq_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [30, 219, 110, 231]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_spd_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace7"
	  Position		  [470, 87, 530, 103]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_brake_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace9"
	  Position		  [480, 21, 555, 39]
	  ShowName		  off
	  VariableName		  "fc_spd_est"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  RelationalOperator
	  Name			  "clutch\ndisengaged"
	  Position		  [300, 187, 330, 218]
	  Operator		  "=="
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "engine controller\ninterface"
	  Ports			  [1, 1]
	  Position		  [150, 103, 275, 147]
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "engine controller\ninterface"
	    Location		    [604, 130, 970, 337]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "fc_spd_out_r"
	      Position		      [25, 103, 55, 117]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [180, 65, 275, 95]
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "spd_command"
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto1"
	      Position		      [80, 95, 165, 125]
	      GotoTag		      "fc_spd_out_r"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "spd command"
	      Position		      [305, 73, 335, 87]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "fc_spd_out_r"
	      SrcPort		      1
	      DstBlock		      "Goto1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      DstBlock		      "spd command"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Configurable Subsystem"
	  Ports			  [2, 3]
	  Position		  [600, 72, 765, 158]
	  BackgroundColor	  "lightBlue"
	  AttributesFormatString  "%<BlockChoice>"
	  ShowPortLabels	  on
	  BlockChoice		  "fuel use and EO emis"
	  TemplateBlock		  "lib_fuel_converter/configurable subsystems/"
"fuel use and EO emis Configurable Subsystem"
	  MemberBlocks		  "fuel use and EO emis,fuel use and EO emis N"
"eural Network Model"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis Configurable Subsyst"
"em"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "fuel use and EO emis"
	      Ports		      [2, 3]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "lightBlue"
	      SourceBlock	      "lib_fuel_converter/configurable subsyst"
"ems/fuel use and EO emis"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -20]
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      2
	      Points		      [20, 0; 0, 30]
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      3
	      Points		      [10, 0; 0, 55]
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "help"
	  Ports			  []
	  Position		  [741, 284, 772, 327]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  ShowName		  off
	  OpenFcn		  "web(['file:\\\\\\' which('fuel_converter.ht"
"m')]);"
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "image(imread('doc_man.jpg'))"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "help"
	    Location		    [203, 331, 569, 538]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "providing trq\n(+ive or -ive)"
	  Ports			  [3, 1]
	  Position		  [380, 88, 410, 142]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "providing trq\n(+ive or -ive)"
	    Location		    [307, 58, 877, 522]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "req'd trq (Nm)"
	      Position		      [120, 83, 150, 97]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "req'd spd (rad/s)"
	      Position		      [215, 138, 245, 152]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "prev engine\nspd (rad/s)"
	      Position		      [35, 133, 65, 147]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [3, 1]
	      Position		      [370, 88, 385, 202]
	      FontName		      "Arial"
	      Inputs		      "3"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [315, 195, 335, 230]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [180, 70, 200, 150]
	      ShowName		      off
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "effect of inertia\n(Nm)"
	      Ports		      [2, 1]
	      Position		      [115, 111, 145, 149]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"effect of inertia\n(Nm)"
		Location		[253, 100, 715, 490]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd spd\n(rad/s)"
		  Position		  [60, 80, 80, 100]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "prev spd"
		  Position		  [60, 130, 80, 150]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [40, 175, 60, 195]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 19, 180, 41]
		  FontName		  "Arial"
		  Value			  "fc_inertia"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [105, 254, 180, 276]
		  Value			  "cyc_mph(1,2)"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [215, 257, 245, 288]
		  Operator		  "NAND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [155, 299, 185, 331]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [95, 210, 130, 230]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [100, 301, 130, 329]
		  FontName		  "Arial"
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [4, 1]
		  Position		  [310, 76, 340, 179]
		  Inputs		  "**/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [120, 105, 140, 125]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [160, 180, 180, 200]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "(Nm)"
		  Position		  [370, 120, 390, 140]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [40, 0; 0, 60]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0; 0, -25]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev spd"
		  SrcPort		  1
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "req'd spd\n(rad/s)"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [40, 0; 0, -50]
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Product1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [5, 0; 0, -35]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Annotation {
		  Position		  [340, 296]
		  Text			  "if initial speed is >0 and it is th"
"e \nfirst time step ignore inertial loads\ntm:2/6/01"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enforce engine limits"
	      Ports		      [2, 2]
	      Position		      [280, 91, 310, 164]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"enforce engine limits"
		Location		[214, 74, 955, 762]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd engine trq\n(Nm)"
		  Position		  [30, 63, 60, 77]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "req'd engine spd\n(rad/s)"
		  Position		  [30, 253, 60, 267]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [525, 315, 581, 355]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [35, 450, 481, 560]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 48]
		    Text		    "This block enforces performance l"
"imits on torque and speed.  At no time will\nengine torque be greater than it"
"s capability or less than its closed-throttle torque.\nIf the engine is in fr"
"ee spindown, the engine torque used for fuel use computation\nis the closed-t"
"hrottle torque.  At no time will engine speed be greater than its\nmaximum (s"
"afe) speed or less than idle speed if idling or zero if off.  During spindown"
",\nengine speed is calculated using engine inertia and the drag torques on th"
"e engine."
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>"
		  Position		  [480, 23, 570, 47]
		  GotoTag		  "fc_trq_limited"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  Position		  [265, 289, 350, 311]
		  GotoTag		  "fc_spd_limited"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [240, 62, 270, 93]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  Ports			  [2, 1]
		  Position		  [320, 62, 350, 93]
		  Function		  "max"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [205, 282, 235, 313]
		  Operator		  "~="
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [115, 245, 145, 275]
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T_closed\nthrottle"
		  Ports			  [1, 1]
		  Position		  [245, 156, 275, 184]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T_closed\nthrottle"
		    Location		    [302, 439, 622, 604]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T_max"
		  Ports			  [1, 1]
		  Position		  [180, 115, 210, 145]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T_max"
		    Location		    [306, 411, 661, 592]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged1"
		  Position		  [415, 17, 445, 48]
		  Operator		  "~="
		}
		Block {
		  BlockType		  Outport
		  Name			  "limited engine brake trq\n(Nm)"
		  Position		  [515, 73, 545, 87]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "limited engine spd\n(rad/s)"
		  Position		  [525, 253, 555, 267]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "T_closed\nthrottle"
		  SrcPort		  1
		  Points		  [15, 0; 0, -85]
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "req'd engine spd\n(rad/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "limited engine spd\n(rad/s)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -90]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "req'd engine trq\n(Nm)"
		  SrcPort		  1
		  Points		  [145, 0]
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "limited engine brake trq\n(Nm)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "clutch\ndisengaged1"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T_max"
		  SrcPort		  1
		  Points		  [5, 0; 0, -45]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [10, 0; 0, -10]
		  DstBlock		  "MinMax1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo>1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)"
	      Position		      [445, 138, 475, 152]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "enforce engine limits"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "effect of inertia\n(Nm)"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"Sum2"
		DstPort			2
	      }
	      Branch {
		Points			[-20, 0; 0, 90]
		DstBlock		"Sum1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "req'd trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "enforce engine limits"
	      SrcPort		      2
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"Mux3"
		DstPort			2
	      }
	      Branch {
		Points			[0, -95; -270, 0; 0, 70]
		DstBlock		"effect of inertia\n(Nm)"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "enforce engine limits"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		Points			[0, 70; -30, 0]
		DstBlock		"Sum1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "prev engine\nspd (rad/s)"
	      SrcPort		      1
	      DstBlock		      "effect of inertia\n(Nm)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "req'd spd (rad/s)"
	      SrcPort		      1
	      DstBlock		      "enforce engine limits"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "spinning up or\nspinning down"
	  Ports			  [3, 1]
	  Position		  [380, 175, 410, 235]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "spinning up or\nspinning down"
	    Location		    [0, 179, 812, 644]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "67"
	    Block {
	      BlockType		      Inport
	      Name		      "spd command (rad/s)"
	      Position		      [50, 283, 80, 297]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "engine disconnected\nfrom drivetrain"
	      Position		      [50, 405, 70, 425]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "previous engine\nspd (rad/s)"
	      Position		      [50, 338, 80, 352]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [900, 215, 920, 235]
	      Value		      "0"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [775, 210, 845, 230]
	      Orientation	      "left"
	      Value		      "vc_idle_spd"
	      VectorParams1D	      on
	    }
	    Block {
	      BlockType		      From
	      Name		      "From"
	      Position		      [120, 159, 250, 181]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From <vc>1"
	      Position		      [730, 330, 800, 350]
	      Orientation	      "up"
	      NamePlacement	      "alternate"
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "engine_on"
	    }
	    Block {
	      BlockType		      From
	      Name		      "From1"
	      Position		      [340, 194, 470, 216]
	      ShowName		      off
	      CloseFcn		      "tagdialog Close"
	      GotoTag		      "acc_mech_trq_est"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax"
	      Ports		      [2, 1]
	      Position		      [280, 112, 310, 143]
	      Function		      "min"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      MinMax
	      Name		      "MinMax1"
	      Ports		      [2, 1]
	      Position		      [865, 167, 895, 198]
	      Function		      "max"
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [3, 1]
	      Position		      [965, 138, 985, 242]
	      FontName		      "Arial"
	      Inputs		      "3"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [620, 246, 640, 264]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product2"
	      Ports		      [2, 1]
	      Position		      [795, 248, 825, 277]
	      FontName		      "Arial"
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [260, 267, 290, 298]
	      Operator		      "<="
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [245, 125, 265, 145]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [425, 130, 445, 150]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|+-"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [665, 275, 685, 295]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch:\nmap torque"
	      Position		      [350, 125, 380, 155]
	      Threshold		      "eps"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "T_closed\nthrottle"
	      Ports		      [1, 1]
	      Position		      [140, 221, 170, 249]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"T_closed\nthrottle"
		Location		[302, 439, 622, 604]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w_APU"
		  Position		  [15, 45, 35, 65]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [80, 46, 110, 64]
		  FontName		  "Arial"
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "min(fc_map_spd)*fc_spd_scale"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "ctt lookup"
		  Position		  [150, 43, 180, 67]
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_ct_trq*fc_trq_scale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_closed\nthrottle"
		  Position		  [215, 45, 235, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "ctt lookup"
		  SrcPort		  1
		  DstBlock		  "T_closed\nthrottle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "ctt lookup"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_APU"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "T_max"
	      Ports		      [1, 1]
	      Position		      [140, 20, 170, 50]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"T_max"
		Location		[306, 411, 634, 544]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w_APU"
		  Position		  [20, 45, 40, 65]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  Position		  [85, 46, 115, 64]
		  FontName		  "Arial"
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "min(fc_map_spd)*fc_spd_scale"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "max_torque lookup"
		  Position		  [180, 43, 210, 67]
		  InputValues		  "fc_map_spd*fc_spd_scale"
		  OutputValues		  "fc_max_trq*fc_trq_scale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_max"
		  Position		  [260, 45, 280, 65]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  DstBlock		  "max_torque lookup"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_APU"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "max_torque lookup"
		  SrcPort		  1
		  DstBlock		  "T_max"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "alpha"
	      Position		      [485, 122, 595, 178]
	      Gain		      "1/(fc_inertia+eps)"
	      Multiplication	      "Element-wise(K.*u)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dt"
	      Ports		      [0, 1]
	      Position		      [550, 245, 580, 275]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"dt"
		Location		[80, 285, 429, 424]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [65, 30, 85, 50]
		  FontName		  "Arial"
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [125, 55, 160, 75]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [205, 35, 225, 55]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [255, 35, 275, 55]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  Points		  [10, 0; 0, -15]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "out_1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "effect of inertia\n(Nm)"
	      Ports		      [2, 1]
	      Position		      [140, 76, 170, 114]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"effect of inertia\n(Nm)"
		Location		[253, 100, 715, 490]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd spd\n(rad/s)"
		  Position		  [60, 80, 80, 100]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "prev spd"
		  Position		  [60, 130, 80, 150]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [40, 175, 60, 195]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 19, 180, 41]
		  FontName		  "Arial"
		  Value			  "fc_inertia"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [105, 254, 180, 276]
		  Value			  "cyc_mph(1,2)"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [215, 257, 245, 288]
		  Operator		  "NAND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [155, 299, 185, 331]
		  Operator		  "NOT"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [95, 210, 130, 230]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [100, 301, 130, 329]
		  FontName		  "Arial"
		  X0			  "0"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [4, 1]
		  Position		  [310, 76, 340, 179]
		  Inputs		  "**/*"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [120, 105, 140, 125]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [160, 180, 180, 200]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "(Nm)"
		  Position		  [370, 120, 390, 140]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [5, 0; 0, -35]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Product1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [40, 0; 0, -50]
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "req'd spd\n(rad/s)"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev spd"
		  SrcPort		  1
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0; 0, -25]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 35]
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [40, 0; 0, 60]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Annotation {
		  Position		  [340, 296]
		  Text			  "if initial speed is >0 and it is th"
"e \nfirst time step ignore inertial loads\ntm:2/6/01"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "just started\nspin-down/spin-up"
	      Ports		      [1, 1]
	      Position		      [630, 158, 660, 192]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"just started\nspin-down/spin-up"
		Location		[73, 152, 412, 295]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "state"
		  Position		  [15, 20, 35, 40]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [220, 23, 250, 47]
		  FontName		  "Arial"
		  Operator		  "AND"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [165, 83, 195, 107]
		  FontName		  "Arial"
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [110, 85, 145, 105]
		  FontName		  "Arial"
		  X0			  "(cyc_mph(1,2)==0)"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Outport
		  Name			  "trigger"
		  Position		  [295, 25, 315, 45]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "trigger"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "state"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "no-lag\nReset Integrator"
	      Ports		      [3, 1]
	      Position		      [710, 136, 760, 214]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      MaskType		      "No-lag Reset Integrator"
	      MaskDescription	      "No-lag Reset Integrator"
	      MaskHelp		      "Integrates first input using Euler tech"
"nique.\\nAt the time step that input 2 <> zero,\\noutput is reset to input 3."
	      MaskPromptString	      "Initial Value"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "initval=@1;"
	      MaskDisplay	      "disp('1/s\\nw/ reset\\nno lag')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "vc_idle_spd"
	      System {
		Name			"no-lag\nReset Integrator"
		Location		[195, 391, 717, 655]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "in_1"
		  Position		  [60, 100, 80, 120]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "in_2"
		  Position		  [60, 140, 80, 160]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "in_3"
		  Position		  [45, 185, 65, 205]
		  Port			  "3"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [105, 155, 125, 175]
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [340, 55, 375, 75]
		  Orientation		  "left"
		  FontName		  "Arial"
		  X0			  "initval"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [160, 96, 180, 114]
		  FontName		  "Arial"
		  Inputs		  "2"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [230, 90, 250, 110]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [290, 139, 320, 171]
		  FontName		  "Arial"
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "dt"
		  Ports			  [0, 1]
		  Position		  [112, 50, 138, 80]
		  Orientation		  "down"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "dt"
		    Location		    [80, 285, 429, 424]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [65, 60, 85, 80]
		    FontName		    "Arial"
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [125, 85, 160, 105]
		    FontName		    "Arial"
		    X0			    "-0.1"
		    InheritSampleTime	    off
		    RTWStateStorageClass    "Auto"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 65, 225, 85]
		    FontName		    "Arial"
		    IconShape		    "rectangular"
		    Inputs		    "+-"
		    SaturateOnIntegerOverflow on
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [255, 65, 275, 85]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "in_2==0"
		  Position		  [160, 143, 190, 167]
		  Operator		  "=="
		}
		Block {
		  BlockType		  Outport
		  Name			  "out_1"
		  Position		  [455, 145, 475, 165]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "in_3"
		  SrcPort		  1
		  Points		  [195, 0; 0, -30]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "in_2"
		  SrcPort		  1
		  DstBlock		  "in_2==0"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "in_1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "dt"
		  SrcPort		  1
		  Points		  [0, 15]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-130, 0; 0, 30]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [10, 0; 0, 45]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [85, 0]
		  Branch {
		    DstBlock		    "out_1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "in_2==0"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "in_2==0"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)"
	      Position		      [1030, 183, 1060, 197]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "T_max"
	      SrcPort		      1
	      Points		      [75, 0; 0, 85]
	      DstBlock		      "MinMax"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "MinMax"
	      SrcPort		      1
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "T_closed\nthrottle"
	      SrcPort		      1
	      Points		      [155, 0; 0, -85]
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch:\nmap torque"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -45; 500, 0; 0, 60]
		DstBlock		"Mux3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Switch:\nmap torque"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "alpha"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Product"
		DstPort			1
	      }
	      Branch {
		DstBlock		"no-lag\nReset Integrator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "previous engine\nspd (rad/s)"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		Points			[0, -70]
		Branch {
		  Points		  [0, -40]
		  Branch {
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -130]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "effect of inertia\n(Nm)"
		    DstPort		    2
		    }
		  }
		}
		Branch {
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[535, 0]
		DstBlock		"Sum2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "spd command (rad/s)"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			2
	      }
	      Branch {
		Points			[0, -205]
		DstBlock		"effect of inertia\n(Nm)"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "no-lag\nReset Integrator"
	      SrcPort		      1
	      DstBlock		      "MinMax1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "just started\nspin-down/spin-up"
	      SrcPort		      1
	      DstBlock		      "no-lag\nReset Integrator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "no-lag\nReset Integrator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "engine disconnected\nfrom drivetrain"
	      SrcPort		      1
	      Points		      [445, 0; 0, -240]
	      DstBlock		      "just started\nspin-down/spin-up"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dt"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [0, 35]
	      DstBlock		      "Product2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From <vc>1"
	      SrcPort		      1
	      Points		      [0, -55]
	      DstBlock		      "Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product2"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "MinMax1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "MinMax1"
	      SrcPort		      1
	      Points		      [0, 5]
	      DstBlock		      "Mux3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "effect of inertia\n(Nm)"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "MinMax"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "From"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [10, 0; 0, 10]
	      DstBlock		      "alpha"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "From1"
	      SrcPort		      1
	      Points		      [0, -40]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel use"
	  Position		  [830, 75, 850, 95]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "EO emis\ninfo"
	  Position		  [830, 120, 850, 140]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  Position		  [790, 250, 810, 270]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  3
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  2
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "EO emis\ninfo"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [0, -15; 45, 0]
	  Branch {
	    Points		    [0, 110]
	    Branch {
	      Points		      [30, 0]
	      Branch {
		DstBlock		"Mux1"
		DstPort			2
	      }
	      Branch {
		Points			[0, 70]
		DstBlock		"<sdo>"
		DstPort			1
	      }
	    }
	    Branch {
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	  }
	  Branch {
	    Points		    [0, -15]
	    Branch {
	      Points		      [0, -105]
	      DstBlock		      "Goto Fuzzy controller <cs>"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "fuel use and EO emis Configurable Subsy"
"stem"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  3
	  Points		  [10, 0; 0, 55; 85, 0; 0, 5]
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 45]
	    DstBlock		    "<sdo>1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [40, 0; 0, -55]
	  Branch {
	    DstBlock		    "fuel use and EO emis Configurable Subsyst"
"em"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [-10, 0]
	    Branch {
	      DstBlock		      "To Workspace7"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "engine controller\ninterface"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, -10]
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 60]
	    DstBlock		    "spinning up or\nspinning down"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [20, 0]
	  Branch {
	    DstBlock		    "engine controller\ninterface"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 100]
	    Branch {
	      DstBlock		      "To Workspace3"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, 40]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "clutch\ndisengaged"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    DstBlock		    "spinning up or\nspinning down"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 85]
	    DstBlock		    "Logical\nOperator"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  DstBlock		  "clutch\ndisengaged"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "From <vc>1"
	  SrcPort		  1
	  DstBlock		  "clutch\ndisengaged"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  Points		  [25, 0; 0, -120]
	  DstBlock		  "Switch"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "providing trq\n(+ive or -ive)"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    Points		    [25, 0; 0, 20]
	    DstBlock		    "Switch"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -50]
	    DstBlock		    "Selector"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "spinning up or\nspinning down"
	  SrcPort		  1
	  DstBlock		  "Switch"
	  DstPort		  3
	}
	Line {
	  SrcBlock		  "Memory"
	  SrcPort		  1
	  Points		  [-95, 0; 0, -40]
	  Branch {
	    DstBlock		    "spinning up or\nspinning down"
	    DstPort		    3
	  }
	  Branch {
	    Points		    [0, -90]
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  1
	  Points		  [40, 0]
	  Branch {
	    DstBlock		    "fuel use"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -25]
	    DstBlock		    "Goto1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Selector"
	  SrcPort		  1
	  Points		  [0, 0]
	  Branch {
	    DstBlock		    "<sdo>2"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "To Workspace9"
	    DstPort		    1
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "fuel\nconverter\n <fc> prius"
      Ports		      [1, 3]
      Position		      [190, 67, 250, 113]
      BackgroundColor	      "yellow"
      ShowPortLabels	      off
      TreatAsAtomicUnit	      off
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      MaskDisplay	      "image(imread('bdi_fc.jpg'))"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"fuel\nconverter\n <fc> prius"
	Location		[220, 74, 995, 742]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"82"
	Block {
	  BlockType		  Inport
	  Name			  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  Position		  [40, 80, 60, 100]
	  Port			  "1"
	  LatchInput		  off
	  Interpolate		  on
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>"
	  Position		  [645, 335, 725, 355]
	  GotoTag		  "fc_spd_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "<sdo>1"
	  Position		  [640, 295, 720, 315]
	  GotoTag		  "fc_trq_out_a"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Block NOTES"
	  Ports			  []
	  Position		  [780, 300, 836, 340]
	  BackgroundColor	  "green"
	  ShowName		  off
	  ShowPortLabels	  on
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  MaskDisplay		  "disp('Block\\nNOTES')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Block NOTES"
	    Location		    [620, 337, 1026, 424]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Annotation {
	      Position		      [212, 38]
	      Text		      "This block models the internal combusti"
"on engine, and includes inertia effects,\nperformance limits, accessory loads"
", and temperature transient effects on fuel\nuse, engine-out emissions, and c"
"atalyst efficiency.  There are 'leads' to the\nengine controller here, which "
"controller determines whether the engine is on."
	    }
	  }
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux"
	  Ports			  [1, 2]
	  Position		  [105, 59, 110, 121]
	  ShowName		  off
	  Outputs		  "2"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Demux
	  Name			  "Demux1"
	  Ports			  [1, 4]
	  Position		  [505, 116, 515, 179]
	  ShowName		  off
	  Outputs		  "4"
	  BusSelectionMode	  off
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain"
	  Position		  [600, 186, 630, 214]
	  ShowName		  off
	  Gain			  "acc_mech_eff"
	  Multiplication	  "Element-wise(K.*u)"
	  SaturateOnIntegerOverflow on
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto"
	  Position		  [30, 232, 115, 258]
	  Orientation		  "left"
	  GotoTag		  "fc_spd_out_r"
	  TagVisibility		  "local"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto1"
	  Position		  [235, 232, 320, 258]
	  Orientation		  "left"
	  GotoTag		  "fc_spd_prev"
	  TagVisibility		  "local"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto2"
	  Position		  [870, 29, 930, 51]
	  GotoTag		  "fuel"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto3"
	  Position		  [475, 35, 550, 55]
	  Orientation		  "left"
	  ShowName		  off
	  GotoTag		  "fc_brake_trq"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Goto
	  Name			  "Goto4"
	  Position		  [495, 370, 570, 390]
	  Orientation		  "left"
	  ShowName		  off
	  GotoTag		  "fc_spd_est"
	  TagVisibility		  "global"
	}
	Block {
	  BlockType		  Memory
	  Name			  "Memory"
	  Position		  [455, 267, 485, 293]
	  Orientation		  "left"
	  X0			  "vc_idle_spd"
	  InheritSampleTime	  off
	  RTWStateStorageClass	  "Auto"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  Ports			  [2, 1]
	  Position		  [815, 79, 820, 141]
	  ShowName		  off
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  Ports			  [2, 1]
	  Position		  [640, 256, 645, 289]
	  ShowName		  off
	  FontName		  "Arial"
	  Inputs		  "2"
	  DisplayOption		  "none"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace2"
	  Position		  [25, 168, 110, 182]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_trq_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace3"
	  Position		  [30, 199, 110, 211]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_spd_out_r"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace6"
	  Position		  [630, 221, 740, 239]
	  ShowName		  off
	  VariableName		  "acc_mech_pwr_in_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace7"
	  Position		  [485, 67, 545, 83]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_brake_trq"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace8"
	  Position		  [645, 191, 755, 209]
	  ShowName		  off
	  VariableName		  "acc_mech_pwr_out_a"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  ToWorkspace
	  Name			  "To Workspace9"
	  Position		  [495, 336, 570, 354]
	  Orientation		  "left"
	  ShowName		  off
	  VariableName		  "fc_spd_est"
	  MaxDataPoints		  "inf"
	  Decimation		  "1"
	  SampleTime		  "-1"
	  SaveFormat		  "Array"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "fuel use and EO emis Configurable Subsystem"
	  Ports			  [2, 3]
	  Position		  [590, 54, 755, 136]
	  BackgroundColor	  "lightBlue"
	  AttributesFormatString  "%<BlockChoice>"
	  ShowPortLabels	  on
	  BlockChoice		  "fuel use and EO emis"
	  TemplateBlock		  "lib_fuel_converter/configurable subsystems/"
"fuel use and EO emis Configurable Subsystem"
	  MemberBlocks		  "fuel use and EO emis,fuel use and EO emis N"
"eural Network Model"
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "fuel use and EO emis Configurable Subsyst"
"em"
	    Location		    [148, 182, 646, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "T (Nm)"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "w (rad/s)"
	      Position		      [20, 80, 40, 100]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "fuel use and EO emis"
	      Ports		      [2, 3]
	      Position		      [100, 40, 140, 80]
	      BackgroundColor	      "lightBlue"
	      SourceBlock	      "lib_fuel_converter/configurable subsyst"
"ems/fuel use and EO emis"
	      SourceType	      "SubSystem"
	      ShowPortLabels	      on
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "cumulative fuel \nuse (gal)"
	      Position		      [200, 40, 220, 60]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      Position		      [200, 80, 220, 100]
	      Port		      "2"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vv,Tfc"
	      Position		      [200, 120, 220, 140]
	      Port		      "3"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "[]"
	    }
	    Line {
	      SrcBlock		      "T (Nm)"
	      SrcPort		      1
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "w (rad/s)"
	      SrcPort		      1
	      Points		      [20, 0; 0, -20]
	      DstBlock		      "fuel use and EO emis"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      1
	      Points		      [20, 0; 0, 5]
	      DstBlock		      "cumulative fuel \nuse (gal)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      2
	      Points		      [20, 0; 0, 30]
	      DstBlock		      "FC ON?,\nEOem,\nMFex,\nTex,\nO2ex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "fuel use and EO emis"
	      SrcPort		      3
	      Points		      [10, 0; 0, 55]
	      DstBlock		      "Vv,Tfc"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "providing trq\n(+ive or -ive)"
	  Ports			  [3, 1]
	  Position		  [380, 78, 410, 132]
	  ShowPortLabels	  off
	  TreatAsAtomicUnit	  off
	  RTWSystemCode		  "Auto"
	  RTWFcnNameOpts	  "Auto"
	  RTWFileNameOpts	  "Auto"
	  System {
	    Name		    "providing trq\n(+ive or -ive)"
	    Location		    [218, 74, 993, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "req'd trq (Nm)"
	      Position		      [35, 33, 65, 47]
	      Port		      "1"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "req'd spd (rad/s)"
	      Position		      [35, 178, 65, 192]
	      Port		      "2"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "prev engine\nspd (rad/s)"
	      Position		      [35, 223, 65, 237]
	      Port		      "3"
	      LatchInput	      off
	      Interpolate	      on
	    }
	    Block {
	      BlockType		      Goto
	      Name		      "Goto Fuzzy controller <cs>"
	      Position		      [445, 15, 525, 35]
	      GotoTag		      "engine_rpm"
	      TagVisibility	      "global"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [4, 1]
	      Position		      [370, 49, 390, 186]
	      FontName		      "Arial"
	      Inputs		      "4"
	      DisplayOption	      "none"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [295, 222, 325, 253]
	      Inputs		      "2"
	      Multiplication	      "Element-wise(.*)"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [300, 163, 320, 197]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+--"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [3, 1]
	      Position		      [215, 25, 235, 105]
	      FontName		      "Arial"
	      IconShape		      "rectangular"
	      Inputs		      "+++"
	      SaturateOnIntegerOverflow	on
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "accessories\n(Nm)"
	      Ports		      [1, 1]
	      Position		      [135, 118, 165, 152]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"accessories\n(Nm)"
		Location		[214, 70, 989, 738]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w_APU"
		  Position		  [25, 110, 45, 130]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Product
		  Name			  "(Nm)"
		  Ports			  [2, 1]
		  Position		  [210, 98, 240, 127]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Product
		  Name			  "(W)"
		  Ports			  [2, 1]
		  Position		  [135, 47, 165, 78]
		  FontName		  "Arial"
		  Inputs		  "*/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [15, 13, 100, 37]
		  FontName		  "Arial"
		  Value			  "acc_mech_pwr"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [15, 58, 100, 82]
		  FontName		  "Arial"
		  Value			  "acc_mech_eff"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [227, 35, 313, 55]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  FontName		  "Arial"
		  Value			  "acc_mech_trq"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [370, 152, 400, 178]
		  Orientation		  "left"
		  FontName		  "Arial"
		  Value			  "0"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [120, 111, 150, 129]
		  FontName		  "Arial"
		  UpperLimit		  "inf"
		  LowerLimit		  "vc_idle_spd+eps"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [285, 92, 315, 123]
		  IconShape		  "rectangular"
		  Inputs		  "++"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [370, 105, 400, 135]
		  Threshold		  "eps"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "key_on"
		  Ports			  [0, 1]
		  Position		  [370, 55, 400, 85]
		  Orientation		  "left"
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskType		  "Repeating table"
		  MaskDescription	  "Repeating table.\nEnter values of t"
"ime and output for first cycle."
		  MaskHelp		  "Repeats cycle given in table. Time "
"values should be monotonically increasing."
		  MaskPromptString	  "Time values:|Output values:"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskInitialization	  "period = max(@1); t = @1; y = @2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "vc_key_on(:,1)|vc_key_on(:,2)"
		  MaskVariableAliases	  ","
		  System {
		    Name		    "key_on"
		    Location		    [5, 42, 315, 182]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [45, 60, 65, 80]
		    DisplayTime		    off
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [110, 60, 150, 80]
		    Expr		    "rem(u[1],period)"
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "Look-Up Table"
		    Position		    [210, 58, 250, 82]
		    InputValues		    "t"
		    OutputValues	    "y"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out_1"
		    Position		    [285, 60, 305, 80]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Look-Up Table"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Look-Up Table"
		    SrcPort		    1
		    DstBlock		    "out_1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_acc"
		  Position		  [440, 110, 460, 130]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "T_acc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "key_on"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "(Nm)"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "(W)"
		  SrcPort		  1
		  Points		  [15, 0; 0, 40]
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w_APU"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "(W)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "(W)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "effect of inertia\n(Nm)"
	      Ports		      [2, 1]
	      Position		      [135, 46, 165, 84]
	      FontName		      "Arial"
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"effect of inertia\n(Nm)"
		Location		[216, 74, 991, 742]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd spd\n(rad/s)"
		  Position		  [60, 80, 80, 100]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "prev spd"
		  Position		  [60, 130, 80, 150]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [40, 175, 60, 195]
		  DisplayTime		  off
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 19, 180, 41]
		  FontName		  "Arial"
		  Value			  "fc_inertia"
		  VectorParams1D	  on
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [95, 210, 130, 230]
		  FontName		  "Arial"
		  X0			  "-0.1"
		  InheritSampleTime	  off
		  RTWStateStorageClass	  "Auto"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [285, 77, 315, 113]
		  Inputs		  "**/"
		  Multiplication	  "Element-wise(.*)"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [115, 85, 135, 105]
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [160, 180, 180, 200]
		  FontName		  "Arial"
		  IconShape		  "rectangular"
		  Inputs		  "+-"
		  SaturateOnIntegerOverflow on
		}
		Block {
		  BlockType		  Outport
		  Name			  "(Nm)"
		  Position		  [385, 85, 405, 105]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [40, 0; 0, -85]
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "req'd spd\n(rad/s)"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "prev spd"
		  SrcPort		  1
		  Points		  [5, 0; 0, -40]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "(Nm)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [5, 0; 0, -25]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [40, 0; 0, 55]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "enforce engine limits"
	      Ports		      [2, 2]
	      Position		      [280, 46, 310, 119]
	      ShowPortLabels	      off
	      TreatAsAtomicUnit	      off
	      RTWSystemCode	      "Auto"
	      RTWFcnNameOpts	      "Auto"
	      RTWFileNameOpts	      "Auto"
	      System {
		Name			"enforce engine limits"
		Location		[216, 74, 991, 742]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "req'd engine trq\n(Nm)"
		  Position		  [30, 63, 60, 77]
		  Port			  "1"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  Inport
		  Name			  "req'd engine spd\n(rad/s)"
		  Position		  [30, 253, 60, 267]
		  Port			  "2"
		  LatchInput		  off
		  Interpolate		  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Block NOTES"
		  Ports			  []
		  Position		  [525, 315, 581, 355]
		  BackgroundColor	  "green"
		  ShowName		  off
		  ShowPortLabels	  on
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  MaskDisplay		  "disp('Block\\nNOTES')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Block NOTES"
		    Location		    [35, 450, 481, 560]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Annotation {
		    Position		    [222, 48]
		    Text		    "This block enforces performance l"
"imits on torque and speed.  At no time will\nengine torque be greater than it"
"s capability or less than its closed-throttle torque.\nIf the engine is in fr"
"ee spindown, the engine torque used for fuel use computation\nis the closed-t"
"hrottle torque.  At no time will engine speed be greater than its\nmaximum (s"
"afe) speed or less than idle speed if idling or zero if off.  During spindown"
",\nengine speed is calculated using engine inertia and the drag torques on th"
"e engine."
		    }
		  }
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>"
		  Position		  [480, 23, 570, 47]
		  GotoTag		  "fc_trq_limited"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  Goto
		  Name			  "Goto <sdo>1"
		  Position		  [265, 289, 350, 311]
		  GotoTag		  "fc_spd_limited"
		  TagVisibility		  "global"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  Ports			  [2, 1]
		  Position		  [240, 62, 270, 93]
		  Function		  "min"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  Ports			  [2, 1]
		  Position		  [320, 62, 350, 93]
		  Function		  "max"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [205, 282, 235, 313]
		  Operator		  "~="
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  Position		  [115, 245, 145, 275]
		  UpperLimit		  "max(fc_map_spd)*fc_spd_scale"
		  LowerLimit		  "0"
		  LinearizeAsGain	  on
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T_closed\nthrottle"
		  Ports			  [1, 1]
		  Position		  [245, 156, 275, 184]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T_closed\nthrottle"
		    Location		    [214, 70, 989, 738]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [15, 45, 35, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    Position		    [80, 46, 110, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "ctt lookup"
		    Position		    [150, 43, 180, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_ct_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_closed\nthrottle"
		    Position		    [215, 45, 235, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "ctt lookup"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ctt lookup"
		    SrcPort		    1
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "T_max"
		  Ports			  [1, 1]
		  Position		  [180, 115, 210, 145]
		  ShowPortLabels	  off
		  TreatAsAtomicUnit	  off
		  RTWSystemCode		  "Auto"
		  RTWFcnNameOpts	  "Auto"
		  RTWFileNameOpts	  "Auto"
		  System {
		    Name		    "T_max"
		    Location		    [214, 70, 989, 738]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "w_APU"
		    Position		    [20, 45, 40, 65]
		    Port		    "1"
		    LatchInput		    off
		    Interpolate		    on
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    Position		    [85, 46, 115, 64]
		    FontName		    "Arial"
		    UpperLimit		    "max(fc_map_spd)*fc_spd_scale"
		    LowerLimit		    "min(fc_map_spd)*fc_spd_scale"
		    LinearizeAsGain	    on
		    }
		    Block {
		    BlockType		    Lookup
		    Name		    "max_torque lookup"
		    Position		    [180, 43, 210, 67]
		    InputValues		    "fc_map_spd*fc_spd_scale"
		    OutputValues	    "fc_max_trq*fc_trq_scale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T_max"
		    Position		    [260, 45, 280, 65]
		    Port		    "1"
		    OutputWhenDisabled	    "held"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "max_torque lookup"
		    SrcPort		    1
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "w_APU"
		    SrcPort		    1
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "max_torque lookup"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "clutch\ndisengaged1"
		  Position		  [415, 17, 445, 48]
		  Operator		  "~="
		}
		Block {
		  BlockType		  Outport
		  Name			  "limited engine brake trq\n(Nm)"
		  Position		  [515, 73, 545, 87]
		  Port			  "1"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "limited engine spd\n(rad/s)"
		  Position		  [525, 253, 555, 267]
		  Port			  "2"
		  OutputWhenDisabled	  "held"
		  InitialOutput		  "[]"
		}
		Line {
		  SrcBlock		  "T_closed\nthrottle"
		  SrcPort		  1
		  Points		  [15, 0; 0, -85]
		  DstBlock		  "MinMax1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo>1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [10, 0; 0, -10]
		  DstBlock		  "MinMax1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "T_max"
		  SrcPort		  1
		  Points		  [5, 0; 0, -45]
		  DstBlock		  "MinMax"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "clutch\ndisengaged1"
		  SrcPort		  1
		  DstBlock		  "Goto <sdo>"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "limited engine brake trq\n(Nm)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "req'd engine trq\n(Nm)"
		  SrcPort		  1
		  Points		  [145, 0]
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "clutch\ndisengaged1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -90]
		    Branch {
		    DstBlock		    "T_closed\nthrottle"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "T_max"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "limited engine spd\n(rad/s)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "req'd engine spd\n(rad/s)"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)\naccessory load (W)"
	      Position		      [445, 113, 475, 127]
	      Port		      "1"
	      OutputWhenDisabled      "held"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "req'd spd (rad/s)"
	      SrcPort		      1
	      Points		      [110, 0]
	      Branch {
		Points			[0, 60]
		DstBlock		"Product"
		DstPort			2
	      }
	      Branch {
		Points			[65, 0; 0, -85]
		DstBlock		"enforce engine limits"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Mux3"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [20, 0; 0, -45]
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "map trq (Nm)\nspd (rad/s)\ntrq to drive"
"train (Nm)\naccessory load (W)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "prev engine\nspd (rad/s)"
	      SrcPort		      1
	      Points		      [30, 0; 0, -155]
	      DstBlock		      "effect of inertia\n(Nm)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "enforce engine limits"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"Mux3"
		DstPort			1
	      }
	      Branch {
		Points			[0, 75; -45, 0]
		DstBlock		"Sum1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "enforce engine limits"
	      SrcPort		      2
	      Points		      [30, 0]
	      Branch {
		Points			[0, -85; -230, 0; 0, 40]
		Branch {
		  DstBlock		  "effect of inertia\n(Nm)"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 80]
		  DstBlock		  "accessories\n(Nm)"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[10, 0]
		Branch {
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -75]
		  DstBlock		  "Goto Fuzzy controller <cs>"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "req'd trq (Nm)"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "effect of inertia\n(Nm)"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		Points			[0, 115]
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Sum2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "accessories\n(Nm)"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, 55]
		Branch {
		  Points		  [0, 40]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, -45]
		DstBlock		"Sum2"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "enforce engine limits"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "fuel use"
	  Position		  [855, 55, 875, 75]
	  Port			  "1"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "EO emis\ninfo"
	  Position		  [855, 100, 875, 120]
	  Port			  "2"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Block {
	  BlockType		  Outport
	  Name			  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  Position		  [790, 265, 810, 285]
	  NamePlacement		  "alternate"
	  FontName		  "Arial"
	  Port			  "3"
	  OutputWhenDisabled	  "held"
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Memory"
	  SrcPort		  1
	  Points		  [0, -35; -95, 0]
	  Branch {
	    DstBlock		    "Goto1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -120]
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    3
	  }
	}
	Line {
	  SrcBlock		  "providing trq\n(+ive or -ive)"
	  SrcPort		  1
	  Points		  [25, 0; 0, 45]
	  DstBlock		  "Demux1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  2
	  Points		  [20, 0]
	  Branch {
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [0, 100]
	    Branch {
	      Points		      [0, 40]
	      DstBlock		      "Goto"
	      DstPort		      1
	    }
	    Branch {
	      DstBlock		      "To Workspace3"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [240, 0]
	    DstBlock		    "providing trq\n(+ive or -ive)"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "To Workspace2"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "torque and speed\n req'd at engine \noutput"
" shaft\n(Nm)"
	  SrcPort		  1
	  DstBlock		  "Demux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  1
	  Points		  [40, 0; 0, -50]
	  Branch {
	    DstBlock		    "fuel use and EO emis Configurable Subsyst"
"em"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 0]
	    Branch {
	      DstBlock		      "To Workspace7"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [0, -30]
	      DstBlock		      "Goto3"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  3
	  Points		  [10, 0; 0, 105; 85, 0; 0, 5]
	  Branch {
	    Points		    [0, 40]
	    DstBlock		    "<sdo>1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Mux1"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  2
	  Points		  [50, 0]
	  Branch {
	    Points		    [0, 140; 5, 0]
	    Branch {
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Branch {
	      Points		      [30, 0]
	      Branch {
		Points			[0, 65]
		Branch {
		  DstBlock		  "<sdo>"
		  DstPort		  1
		}
		Branch {
		  Points		  [-20, 0]
		  Branch {
		    DstBlock		    "To Workspace9"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Goto4"
		    DstPort		    1
		  }
		}
	      }
	      Branch {
		DstBlock		"Mux1"
		DstPort			2
	      }
	    }
	  }
	  Branch {
	    Points		    [0, -25]
	    DstBlock		    "fuel use and EO emis Configurable Subsyst"
"em"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "EO emis\ninfo"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  2
	  DstBlock		  "Mux"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  3
	  Points		  [0, 5]
	  DstBlock		  "Mux"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Gain"
	  SrcPort		  1
	  DstBlock		  "To Workspace8"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Demux1"
	  SrcPort		  4
	  Points		  [65, 0]
	  Branch {
	    DstBlock		    "Gain"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 60]
	    DstBlock		    "To Workspace6"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "torque and speed\n avail. to driveline\n(Nm"
"), (rad/s)"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "fuel use and EO emis Configurable Subsystem"
	  SrcPort		  1
	  Points		  [50, 0; 0, -5; 10, 0]
	  Branch {
	    DstBlock		    "fuel use"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -25]
	    DstBlock		    "Goto2"
	    DstPort		    1
	  }
	}
      }
    }
    Annotation {
      Position		      [66, 26]
      ForegroundColor	      "blue"
      BackgroundColor	      "yellow"
      Text		      "Fuel Converter:"
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
    }
    Annotation {
      Position		      [244, 346]
      Text		      "-----------------------------------------------"
"-----------------------------------------------------------------------------"
"-------------"
    }
    Annotation {
      Position		      [63, 375]
      Text		      "sub-models\nfor the fuel converter"
    }
  }
}
