<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Valerie Hovland">
   <meta name="GENERATOR" content="Microsoft FrontPage 4.0">
   <title>Fuel Converter</title>
</head>
<body>

<h3>
Fuel Converter</h3>
<a href="Engine Cold-Hot Comparison.htm">Updates to Fuel Converter Cold-to-Hot
Correction Factors, January 2001</a><i><a href="fc.gif"></a></i>
<p><i><a href="fc.gif">Fuel Converter block diagram</a></i>
<br><i><a href="fc_tmp.gif">Fuel Use and EO emissions block diagram</a></i>
<p><b><u>Role of subsystem in vehicle</u></b>
<br>The fuel converter model simulates a power source for the vehicle.
In the case of an internal combustion engine, it is the device that converts
the fuel into useable energy (mechanical shaft work) for the drivetrian.
It can be incorporated into various vehicle configurations including, series,
parallel, and conventional vehicles.
<p><b><u>Description of modeling approach</u></b>
<br>Given a requested speed and torque calculated by the other submodels,
the fuel converter model determines the engine operating point required
to meet these requirements while also accounting for inertial losses and
accessory loads. The engine controller module does not allow the fuel converter
to operate outside of its normal operating speed and torque ranges. The
controller also determines the engine speed if the clutch is disengaged.
Once the achievable speed and torque have been determine these values are
passed back to the rest of the vehicle model. These values are also used
to determine the fuel use and emissions for each time step. The fuel use
and fuel converter out emissions values are stored in tables indexed by
fuel converter speed and torque. Temperature correction factors have been
incorporated to scale the fuel use and emissions for cold starts.
<p><b><u>Variables used in subsystem</u></b>
<blockquote><a href="advisor_appendices.htm#Input Fuel Converter">See Appendix
A.2: Input Variables</a>
<br><a href="advisor_appendices.htm#Output_Fuel_Converter">See Appendix
A.3: Output Variables</a></blockquote>
<b><u><a href="bore_stroke_scaling.htm">Fuel Converter Scaling</a></u></b>
<p>
<b><u>Implementation: Thermal Model</u></b>
<br>The thermal model of the engine breaks the engine assembly into four
temperatures: the cylinder, the engine block, the exterior engine accessories,
and the hood of the vehicle.&nbsp; The coolant operates as a thermostat,
with the setpoint set by the user.&nbsp; Heat is generated by combustion,
conducted to the engine block, and removed through&nbsp; forced liquid
cooling, conduction, natural convection, and radiation (see Figure 1).
<center>
</p>
<p><img SRC="fc_therm_schematic.jpg" BORDER=2 height=414 width=602>
<br><b>Figure 1: Schematic of engine thermal model</b></center>

<p>The calculations for the individual heat transfer paths are detailed
below, and the temperatures of the four nodes are then given.&nbsp; See
Figure 1 for subscript notation (example: Qc2i,c = heat transferred from
the cylinder to the inner block via conduction)..
<p><u>CYLINDER</u>
<br><u>Qfc_gen</u>
<br>The heat generated by the engine is found from the fuel used, the usable
power, and the heat contained in the exhaust.
<center><img SRC="fc_therm_eqn1.jpg" height=51 width=403></center>
<u>Qc2i,c</u>
<br>Heat is removed from the cylinder to the engine block through conduction.&nbsp;
This conductance (W/K) is specified by the user in the engine input file;
a representative value is 500 W/K. <i>Q<sub>c2i,c</sub>=fc_c2i_th_cond*(T<sub>c</sub>-T<sub>i</sub>)</i>
<p><u>INNER/ENGINE BLOCK</u>
<br><u>Qi2x,c</u>
<br>Some of the input heat (Qc2i,c) is removed from the engine block to
the exterior/engine accessories through conduction.&nbsp; Again, this conductance
(e.g. 500 W/K) is specified by the user in the engine input file. <i>Q<sub>i2x,c</sub>=fc_i2x_th_cond*(T<sub>i</sub>-T<sub>x</sub>)</i>
<br><u>Qfc,coolant</u>
<br>The remaining heat input into the engine block (Qc2i,c-Qi2x,c) is assumed
to be absorbed into the coolant if the coolant flow is on.&nbsp; The coolant
operates on a thermostat setpoint, turning on when the block temperature
exceeds the setpoint of fc_tstat.
<center><img SRC="fc_therm_eqn2.jpg" height=51 width=273></center>

<blockquote><u>Qfc,htr</u>
<br>If the key is on, some of the coolant heat is used for the cabin heater.&nbsp;
This amount is based on a user specified heat exchanger effectiveness from
the coolant to the heater (e.g. fc_cl2h_eff=0.7), and a given heater air
flow (e.g. fc_h_air_flow=1kg/s).&nbsp; <i>Q<sub>fc,htr</sub>=fc_cl2h_eff*fc_h_air_flow*c<sub>p,air</sub>*(T<sub>coolant</sub>-T<sub>amb</sub>)</i>
<br><u>Qfc,rad</u>
<br>If the key is on, the remaining heat input into the coolant&nbsp; is
released through the radiator. <i>Q<sub>fc,rad</sub>=Q<sub>fc,coolant</sub>-Q<sub>fc,htr</sub></i></blockquote>
<u>EXTERIOR/ENGINE ACCESSORIES</u>
<br>The surface area used below was scaled by the power scale of the engine:
<i>Scale=fc_pwr_scale<sup>0.67</sup></i>
(based on a spherical surface area of an engine).
<br><u>Qx2h,r</u>
<br>Radiative heat from the exterior to the hood is given by: <i>Q<sub>x2h,r</sub>=<font face="Symbol">es</font>*A*(T<sub>x</sub><sup>4</sup>-T<sub>h</sub><sup>4</sup>)=fc_emisv*5.67E-8*fc_ext_sarea*(T<sub>x</sub><sup>4</sup>-T<sub>h</sub><sup>4</sup>).
</i>Here
the temperatures are in Kelvin.
<br><u>Qx2h,v</u>
<br>For an explanation of the chosen heat transfer coefficient, see <a href="motor_controller.htm#Qair">Qair
under the motor thermal model description</a>.&nbsp; The heat removed from
the exterior to the hood through natural and forced convection is given
by <i>Q<sub>x2h,v</sub>=h<sub>air</sub>*A*(T<sub>x</sub>-T<sub>h</sub>)=h<sub>air</sub>*fc_ext_sarea*(T<sub>x</sub>-T<sub>h</sub>)</i>
<br><u>Qx2h,c</u>
<br>Some of the input heat (Qi2x,c) is removed from the engine accessories
to the hood through conduction.&nbsp; This conductance (e.g. 10 W/K) is
specified by the user in the engine input file. <i>Q<sub>x2h,c</sub>=fc_h2x_th_cond*(T<sub>x</sub>-T<sub>h</sub>)</i>
<br><u>Qx2a,r</u>
<br>Heat was also radiated from the exterior directly to ambient air.&nbsp;
This surface area was assumed to be 50% of the exterior surface area. <i>Q<sub>x2a,r</sub>=<font face="Symbol">es</font>*A*(T<sub>x</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)=fc_emisv*5.67E-8*(.5*fc_ext_sarea)*(T<sub>x</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)</i>
<br><u>Qx2a,v</u>
<br>Again, the surface area available for convection to ambient was assumed
to be 50% of the exterior surface area.&nbsp; For an explanation of the
chosen heat transfer coefficient, see <a href="motor_controller.htm#Qair">Qair
under the motor thermal model description</a>.&nbsp; The heat removed from
the exterior to the ambient air through natural and forced convection is
given by <i>Q<sub>x2a,v</sub>=h<sub>air</sub>*A*(T<sub>x</sub>-T<sub>amb</sub>)=h<sub>air</sub>*(.5*fc_ext_sarea)*(T<sub>x</sub>-T<sub>amb</sub>)</i>
<p><u>HOOD</u>
<br><u>Qh2a,r</u>
<br>Radiative heat from the hood to the ambient surroundings is given by:
<i>Q<sub>h2a,r</sub>=<font face="Symbol">es</font>*A*(T<sub>h</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>)=fc_hood_emisv*5.67E-8*fc_hood_sarea*(T<sub>h</sub><sup>4</sup>-T<sub>amb</sub><sup>4</sup>).</i>
<br><u>Qh2a,v</u>
<br>For an explanation of the chosen heat transfer coefficient, see <a href="motor_controller.htm#Qair">Qair
under the motor thermal model description</a>.&nbsp; The heat removed from
the hood to the ambient air through natural and forced convection is given
by <i>Q<sub>h2a,v</sub>=h<sub>air</sub>*A*(T<sub>h</sub>-T<sub>amb</sub>)=h<sub>air</sub>*fc_hood_sarea*(T<sub>h</sub>-T<sub>amb</sub>)</i>
<p><u>TEMPERATURE EQUATIONS</u>
<br><u>Tc</u>
<br>The base mass (cylinder and engine block) was assumed to have a 1.8
kg/kW value (and can also be explicitely defined in the FC file).&nbsp;
Of this mass, 20% was assumed to be associated with the cylinders.
<center><img SRC="fc_therm_eqn3.jpg" height=51 width=157></center>
<u>Ti</u>
<br>The mass of the engine block was assumed to be 80% of the base mass.
<center><img SRC="fc_therm_eqn4.jpg" height=51 width=219></center>
<u>Tx</u>
<br>The accessory mass may be explicity defined in the FC file.&nbsp; As
a rule, a mass of 0.8 kg/kW was assumed (based on 1994 OTA report, Table
3).
<center><img SRC="fc_therm_eqn5.jpg" height=51 width=356></center>
<u>Th</u>
<br>The mass of the hood was assumed to be 10% of the vehicle glider mass.
<center><img SRC="fc_therm_eqn6.jpg" height=51 width=308></center>

<p><b><u>Equations used in subsystem</u></b>
<br>(torque available) = (engine torque available) – (accessories torque)
<blockquote>(accessories torque) = (accessories mechanical power) * (engine
speed)
<br>(engine torque available) = max((closed throttle torque), min((torque
requested), (max torque)))
<blockquote>(torque requested) = (torque requested by clutch) + (inertial
torque) + (accessories torque)
<blockquote>(inertial torque) = (shaft rate of acceleration) * (engine
inertia)
<br>(accessories torque) = (accessories power) / (shaft speed)</blockquote>
</blockquote>
</blockquote>
(speed available) = min((speed requested), (max engine speed)) * (clutch
state = engaged) + (spin-down speed) * (clutch state ~= engaged)
<blockquote>(spin-down speed) = max((idle speed),(closed throttle speed))
<blockquote>(closed throttle speed) = ((closed throttle torque) - (accessories
torque)) / (engine inertia) * (time step)</blockquote>
(speed requested) = (speed requested by clutch)</blockquote>
(gallons of fuel used) = sum(fuel used per time step)
<blockquote>(fuel used per time step) = (engine out fuel used) * (engine
temperature fuel use correction factor)
<blockquote>(engine temperature correction factor) = 1+ ((fc_tstat-(engine
coolant temperature))/(75))^3.1
<br>(engine coolant temperature) = Ti as calculated above (see Figure 1)</blockquote>
</blockquote>
(engine-out emissions per time step) = (fully-hot engine out emissions
as a function of speed and torque)*(engine temperature emissions correction
factor)
<blockquote>
<blockquote>(normalized temperature)=(fc_tstat-(engine coolant temperature))/(fc_tstat-20)
<br>For HC: (engine temperature correction factor) = 1+7.4* (normalized
temperature) ^ 3.072
<br>For CO: (engine temperature correction factor) = 1 + 9.4 * (normalized
temperature) ^ 3.21
<br>For NOx: (engine temperature correction factor) = 1+ 0.6 * (normalized
temperature) ^ 7.3
<br>For PM: assumed to be the same as HC, (engine temperature correction
factor) = 1+7.4* (normalized temperature) ^ 3.072</blockquote>
</blockquote>
<b><u>References</u></b>
<br>The temperature corrections for the emissions releases are based on
a report entitled "Emission Simulations: GM Lumina, Ford Taurus, GM Impact,
and Chrysler TEVan" by J. Dill Murrell and Associates, LLC., Saline, MI,
January 1996.
<p>
<hr SIZE=5 NOSHADE WIDTH="100%">
<center><a href="advisor_ch3.htm">Back to Chapter 3</a></center>
Last Revised: 01/31/01: VHJ
</body>
</html>
