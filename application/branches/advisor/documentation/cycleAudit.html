<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <style type="text/css">
.code {
	color: #000099;
	font-family: Courier, courier, monospace,monospaced;
}

  </style>
  <title>ADVISOR CycleAnalysis Class</title>
</head>
<body>
<h1>Cycle Audit Class</h1>
<p>For the convenient analysis of drive cycle data and simple vehicle
modeling (up to the powertrain), a drive cycle analysis class has been
created.&nbsp; MATLAB Classes are described in detail in the MATLAB
help documentation. This help file discusses the major features of the
CycleAnalysis class and how to use it.<br>
</p>
<h2>Major Features</h2>
<ul>
  <li>Speed vs. Time Trace statistical analysis</li>
  <li>Building New Cycles<br>
  </li>
  <li>Histogram Analysis and Plots of Speed vs. Time Trace statistics</li>
  <li>Simple vehicle energy analysis</li>
  <li>Roadload Loss Analysis for Simple Vehicles</li>
</ul>
<h2>Examples</h2>
<p>Shown below,&nbsp; are examples to walk a user through usage
of&nbsp; CycleAnalysis objects. As with all objects in MATLAB, one can
type:<br>
</p>
<ul class="code">
  <li>methods(CycleAudit) % displays all of the methods for class
CycleAudit</li>
  <li>help CycleAudit/[method name] % displays text help for a method<br>
  </li>
</ul>
<h3>Speed vs. Time Trace Statistical Analysis</h3>
<p>There are several ways one can create a CycleAudit object:<br>
</p>
<p class="code">% method 1: using t and v arrays<br>
t = [0, 1, 2, 3, 4, 5]; % elapsed time, seconds<br>
v = [0, 1, 2, 2, 1, 0]; % speed, m/s<br>
cyc = CycleAudit(t,v,'my cycle'); % creates a CycleAudit object named
cyc<br>
%<br>
% method 2: using ADVISOR CYC_*.m files<br>
cyc2 =CycleAudit('CYC_UDDS'); % creates a CycleAudit object based on
the UDDS drive cycle<br>
</p>
<p>Once the object has been created, the default statistics can be
determined using the display method:<br>
</p>
<p class="code">display(cyc)<br>
cyc % alternately, just leave off the semi-colon; calls
CycleAudit/disp.m <br>
</p>
<p>To explicitly obtain cycle statistics, we can call the cycStats
method<br>
</p>
<p class="code">[velbar, accbar, decbar, velmax, accmax, decmax, hist]
= cycStats(cyc); % mean velocity, mean acceleration, etc.<br>
</p>
<p>To plot the cycle, we can use the plot method.<br>
</p>
<p class="code">plot(cyc);<br>
</p>
<h3>Buidling New Cycles</h3>
<p>Building new cycles is simple with the CycleAudit class.&nbsp; Let's
say we want to create a new cycle that is a combination of two UDDS
cycles with a HWFET cycle in the middle. Here is what we do:<br>
</p>
<p class="code">cyc1 = CycleAudit('CYC_UDDS');<br>
cyc2 = CycleAudit('CYC_HWFET');<br>
cyc&nbsp; = cycSplice([cyc1 cyc2 cyc1]);<br>
</p>
<p>If we plot the cyc object, we will see that this indeed works:<br>
</p>
<p>plot(cyc);<br>
</p>
<h3>Histogram Analysis</h3>
<p> Alternately, we can call up the plotDist method which will display
statistics in histogram&nbsp; format.<br>
</p>
<p class="code">plotDist(cyc); % note: the red lines indicate where the
average is<br>
</p>
<h3>Simple Vehicle Energy Analysis</h3>
<p>Let's assume we want to examine a heavy vehicle with the following
statistic</p>
<table cellpadding="2" cellspacing="2" border="1"
 style="width: 1102px; height: 312px;">
  <tbody>
    <tr>
      <td style="vertical-align: top;">Param<br>
      </td>
      <td style="vertical-align: top;">Value<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Air Density [kg/m/m/m]
[airDensity]<br>
      </td>
      <td style="vertical-align: top;">1.23<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Coefficient of Drag [--] [CD]<br>
      </td>
      <td style="vertical-align: top;">0.65<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Frontal Area [m*m] [FA]<br>
      </td>
      <td style="vertical-align: top;">7.99<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Vehicle Mass [kg] [M]<br>
      </td>
      <td style="vertical-align: top;">7257<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Gravity Acceleration [m/s/s] [G]<br>
      </td>
      <td style="vertical-align: top;">9.81<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Rolling Resistance [RRC0]<br>
      </td>
      <td style="vertical-align: top;">0.00525<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Cycle Averaged Regenerative
Efficiency [regenEff]<br>
      </td>
      <td style="vertical-align: top;">0%<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Cycle Averaged Powertrain
Efficiency [cycEff]<br>
      </td>
      <td style="vertical-align: top;">20%<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Fuel Volumetric Heating Value
[J/gallon] [VHV]<br>
      </td>
      <td style="vertical-align: top;">137217399.6<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">Accessory Loads [Watts] [accPwr]<br>
      </td>
      <td style="vertical-align: top;">7500</td>
    </tr>
  </tbody>
</table>
<p>We can wrap all of this simple data up and use it in the evalVeh
method:<br>
</p>
<p class="code">% the following are useful constants: aerodynamic loss
constant, kinetic energy constant, potential energy constant, etc.<br>
aeroC=airDensity*CD*FA;<br>
&nbsp; keC=M;<br>
&nbsp; peC=M*G;<br>
&nbsp; rrC=G*M*RRC0;<br>
</p>
<p class="code">[mpg, E]=evalVeh(cyc, aeroC, keC, peC, rrC, regenEff,
cycEff, fuelVolHV, auxLoads); <br>
</p>
<p>After we've generated the data, we can look at the details in the
energy structure, E, as detailed in <em class="code">help
CycleAudit/evalVeh</em>. In addition, we can get an estimate of the
fuel economy based on the cycle-averaged powertrain efficiency,
regenerative energy round-trip efficiency, and the auxiliary loads
we've specified. <br>
</p>
<h3>Histogram of Losses<br>
</h3>
<p>Lastly, we may wish to view the loss histogram on the vehicle which
can be done as follows:<br>
</p>
<p class="code">plotDist(cyc, E);<br>
</p>
<p class="advisorlink"><a href="advisor_doc.htm">return to advisor
documentation<br>
</a></p>
<hr style="width: 100%; height: 2px;">Page Last Updated: August 4, 2003<br>
Page Last Updated by: Michael P. O'Keefe<br>
</body>
</html>
