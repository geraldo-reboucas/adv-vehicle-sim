<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Valerie Hovland">
   <meta name="GENERATOR" content="Mozilla/4.73 [en] (WinNT; U) [Netscape]">
   <title>Motor Controller</title>
</head>
<body>

<h3>
Motor/controller</h3>
<i><a href="mc.gif">Motor/controller block diagram</a></i>
<p><b><u>Role of subsystem in vehicle</u></b>
<br>The ‘motor/controller’ block translates torque and speed requests into
electric power requests and converts actual power input to torque and speed
output.
<p><b><u>Description of modeling approach</u></b>
<br>The motor/controller model includes the effects of losses in the motor
and controller, rotor inertia, and the motor’s torque speed-dependent torque
capability. Power losses are handled as a 2-D lookup table indexed by rotor
speed and output torque. The motor’s maximum torque is enforced using a
lookup table indexed by rotor speed. <a href="mc_cont.htm">Motor control</a>
blocks outside the ‘motor/controller’ ensure that the controller’s maximum
current is not exceeded and that the motor shuts down when it is not needed.
Available torque is computed from available power by assuming that the
ratio of rotor torque to input (electric) power is the same for the actual/achievable
situation as was computed for the request. This is mathematically equivalent
to assuming the motor/controller efficiency. Rotor speed for the actual/achievable
calculations is as computed in the 'request' branch.
<p><b><u>Variables used in subsystem</u></b>
<blockquote><a href="advisor_appendices.htm#Input Motor/Controller">See
Appendix A.2: Input Variables</a>
<br><a href="advisor_appendices.htm#Output Motor/Controller">See Appendix
A.3: Output Variables</a></blockquote>
<b><u>Implementation: Thermal Model</u></b>
<br>A simple thermal model of the motor calculates the temperature of the
motor and the thermal power rejected in to the coolant to maintain this
temperature.&nbsp; The motor is modeled as a lumped capacity mass with
liquid cooling based on a thermostat setpoint.&nbsp; Heat is generated
by the motor, and removed through natural and forced convection, radiation
to ambient air, and forced liquid cooling (see Figure 1).
<center>
<p><img SRC="mc_therm_schematic.jpg" BORDER=2 height=308 width=309>
<br><b>Figure 1: Schematic of motor thermal model</b></center>

<p><u>Qmc_gen</u>
<br>The heat generated by the motor is found from the input power and output
torque and speed.&nbsp; <i>Q<sub>mc_gen</sub>=P<sub>in</sub>-T*<font face="Symbol">w</font></i>.
<p><a NAME="Qair"></a><u>Qair</u>
<br>Heat is removed from the motor through natural and forced convection
with the ambient air.&nbsp; <i>Q<sub>air</sub>=h<sub>air</sub>*A*(T<sub>mc</sub>-T<sub>ambient</sub>)</i>&nbsp;&nbsp;
The heat transfer coefficient is computed using known heat transfer coefficients
for given experimental conditions.&nbsp; For a <font face="Symbol">D</font>T
of 1000<sup>o</sup>C, h from natural convection was 6 W/m<sup>2</sup>K.&nbsp;
For air flow of 30 mph, h from forced convection was 60 W/m<sup>2</sup>K.&nbsp;
A minimum of h<sub>air</sub> was set to a natural convection level at 6
W/m<sup>2</sup>K.&nbsp; For natural convection over an arbitrary shape,
the Nusselt number is related to the Rayleigh number by the following equation<sup>*</sup>:
<center><img SRC="mc_therm_eqn2.jpg" height=125 width=169></center>
For forced convection over a cylinder, the Nusselt number is related to
the Rayleigh number by the following equation<sup>*</sup>:
<center><img SRC="mc_therm_eqn3.jpg" height=123 width=184></center>

<p>Thus the equation for the heat transfer coefficient used in the model
was: <i>h<sub>air</sub></i>=6+6*(
<font face="Symbol">D</font>T/1000)<sup>0.25</sup>+60*(
V<sub>air</sub>/30)<sup>0.63</sup>.&nbsp; Air speed over the motor is assumed
to be half of the vehicle speed.
<p><u>Qrad</u>
<br>Heat was also removed through radiation.&nbsp; <i>Q<sub>rad</sub>=<font face="Symbol">es</font>*A*(T<sub>mc</sub><sup>4</sup>-T<sub>ambient</sub><sup>4</sup>)=0.9*5.67E-8*A*(T<sub>mc</sub><sup>4</sup>-T<sub>ambient</sub><sup>4</sup>)
</i>The
emissivity was assumed to be 0.9, and here the temperatures are in Kelvin.
<p><u>Qmc_coolant</u>
<br>The coolant flow was turned on if the temperature of the motor exceeded
a thermostat setpoint.&nbsp; The details of the flow are not considered.&nbsp;
It is assumed that all of the extra energy (=Qmc_gen-Qair-Qrad) is absorbed
into the coolant.
<p><u>Tmc</u>
<br>Finally, the temperature of the motor was found by integrating the
added heat through time, adjusting for the heat capacity of the motor.&nbsp;<img SRC="mc_therm_eqn.jpg" height=51 width=257>
<p>Figure 2 shows the block diagram implementation.
<center>
<p><img SRC="mc_thermal.gif" BORDER=2 height=234 width=785>
<br><b>Figure 2: Block diagram of motor thermal model</b></center>

<p>*Reference: Basic Heat and Mass Transfer, Anthony F. Mills, Irwin, 1995.
<br>
<hr SIZE=5 NOSHADE WIDTH="100%">
<center><a href="advisor_ch3.htm">Back to Chapter 3</a></center>
Last Revised: 7/21/00:AB
</body>
</html>
