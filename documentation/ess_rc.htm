<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Valerie Johnson">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (WinNT; I) [Netscape]">
   <title>RC Model</title>
</head>
<body>

<h3>
<b>RC Battery Model</b></h3>
<b><u>Role of subsystem in vehicle</u></b>
<br>The Energy Storage System (ESS) block represents the battery pack that
stores energy on board the modeled vehicle.&nbsp; This block accepts a
power request and returns available/actual power output from the battery,
the battery voltage and current, and the battery State of Charge (SOC).&nbsp;
By convention, positive power is discharge.
<p><b><u>Description of modeling approach</u></b>
<br>ADVISOR's RC model is shown in circuit form in Figure 1. The RC model
uses power as an input and limits the battery operation to the high and
low voltage limits.&nbsp; Power delivered by the battery is limited to
the maximum that the equivalent circuit can deliver or the maximum that
the motor controller can accept, given its minimum voltage requirement.&nbsp;
A simple single-node thermal model of the battery is implemented with parallel
flow air cooling.&nbsp; More detail can be found in the <a href="ess_therm.htm">battery
thermal model explanation</a>.&nbsp; The governing state equations of the
model are shown in Equation 2, and implemented in the S-function RC.m.
<p>The capacitor Cb is very large and represents the ample capability of
the battery to store charge chemically. The capacitor Cc is small and mostly
represents the surface effects of a spiral-wound cell, e.g. the limiting
behavior of a battery to deliver current based on time constants associated
with the diffusion of materials and chemical reactions.
<center>
<p><img SRC="Image108.gif" height=216 width=480>
<p><img SRC="Image109.gif" height=204 width=534>
<p><b>Figure 1: ADVISOR RC Battery Model</b>
<p><img SRC="Image110.gif" height=168 width=656><b>Equation 1</b></center>
<b><u>Variables used in subsystem</u></b>
<blockquote><a href="advisor_appendices.htm#Input Energy Storage System RC">See
Appendix A.2: Input Variables</a></blockquote>
<b><u>Implementation</u></b>
<br>The model was implemented in Matlab via an S-function that was called
through a Simulink block. In this way, the parameters of the state space
system (Equation 1) could vary with SOC and temperature and then be passed
to the S-function. The S-function limited power to keep the battery within
operating limits, and calculated SOC and heat generated from the battery.
The block diagram implmentation of the model is shown in Figure 2.
<p><img SRC="Image115.gif" height=374 width=731>
<center>
<p><b>Figure 2: Block Diagram implementation of RC battery model</b></center>

<p><b><u>Parameter Generation</u></b>
<br>Basic physics and select experimental values were used to determine
initial values used in the data processing and optimization (e.g. over
the HPPC profile) to determine the five unknown parameters (cb, cc, re,
rc, rt) for a given temperature or SOC.&nbsp; See <a href="../extras/batmodel/documentation/batmodel_doc.htm">Batmodel</a>
for more detail.
<p><u>Bulk Capacitor Cb</u>
<br>The experimentally determined open circuit voltages at 0% SOC and 100%
SOC were used along with the rated Amp-hour capacity to determine the energy
that could be stored in the bulk capacitor Cb, by using the following equation:
<center>
<p><img SRC="Image111.gif" height=168 width=437><b> Equation 2</b></center>

<p><u>Resistances</u>
<br>To determine initial values for the three resistances, a relationship
between the terminal resistance (Rt), the end resistance (Re), and the
capacitor resistance (Rc) was assumed. This relationship was that Re and
Rc were the same value (R*), and Rt was &frac12; the value of R*. R* was
taken to be Rbulk/1.24 as determined by the step-response impedance of
the circuit. The relative relationships were taken from initial values
that Saft had applied to their 2-cap model. The bulk resistance was taken
from experimental values and determined separately for each SOC (see also
Figure 3):
<center>
<p>Rbulk=<font face="Symbol">D</font>V/current <b>Equation 3</b>
<br><b></b>&nbsp;
<p><img SRC="Image112.gif" height=309 width=392>
<p><b>Figure 3: HPPC values to determine initial R’s and C’s</b></center>

<p><u>Surface Capacitor Cc</u>
<br>The initial value for the surface capacitor Cc was derived from the
observed time constant for the 'no-load' voltage response between voltage
V<sub>3</sub> and V<sub>4</sub> (see Figure 3). The time constant was approximated
by the following equation:
<center>
<p><img SRC="Image113.gif" height=114 width=366><b> Equation 4</b></center>

<p>The time constant associated with Cc (see Equation 1) was then used
to determine an initial guess for Cc:
<center>
<p><img SRC="Image114.gif" height=90 width=178><b> Equation 5</b></center>

<p>
<hr SIZE=5 NOSHADE WIDTH="100%">
<center><a href="advisor_ch3.htm">Back to Chapter 3</a></center>

<p>Last Revised: 5/29/01: vhj
</body>
</html>
